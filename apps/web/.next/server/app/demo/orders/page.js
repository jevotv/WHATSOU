(()=>{var e={};e.id=4257,e.ids=[4257],e.modules={21841:e=>{"use strict";e.exports=require("@aws-sdk/client-s3")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},41790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},84896:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c});var r=a(66965),t=a(74902),l=a(36408),d=a.n(l),i=a(14346),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(s,n);let c=["",{children:["demo",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,68277)),"D:\\whatsou\\apps\\web\\app\\demo\\orders\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,78517)),"D:\\whatsou\\apps\\web\\app\\demo\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,47814))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,90133))).default(e)],openGraph:[async e=>(await Promise.resolve().then(a.bind(a,3774))).default(e)],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,27734)),"D:\\whatsou\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35438,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,47814))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,90133))).default(e)],openGraph:[async e=>(await Promise.resolve().then(a.bind(a,3774))).default(e)],twitter:[],manifest:"/manifest.webmanifest"}}],o=["D:\\whatsou\\apps\\web\\app\\demo\\orders\\page.tsx"],x="/demo/orders/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/demo/orders/page",pathname:"/demo/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},32105:(e,s,a)=>{Promise.resolve().then(a.bind(a,52874))},52874:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>MockOrdersPage});var r=a(84196),t=a(78726),l=a(70004),d=a(78611),i=a(24850),n=a(56617),c=a(86442),o=a(85905),x=a(51356),u=a(5460),m=a(7930),p=a(50198),h=a(12753),y=a(2420),j=a(8410),f=a(65884),g=a(13343),b=a(78019),v=a(3486),_=a(80019),N=a(11986),w=a(88737),C=a(97487),Z=a(77952),P=a(82182),q=a(91586),k=a(16538),D=a(28467),I=a(60546);function CreateOrderModal({onClose:e}){let{products:s,createOrder:a}=(0,l.useMockDashboard)(),{t:d}=(0,C.Z)(),[i,n]=(0,t.useState)(""),[c,o]=(0,t.useState)(""),[x,u]=(0,t.useState)(""),[m,p]=(0,t.useState)("delivery"),[f,g]=(0,t.useState)(""),[b,v]=(0,t.useState)([]),handleRemoveItem=e=>{v(b.filter((s,a)=>a!==e))},handleItemChange=(e,s,a)=>{let r=[...b];r[e][s]=a,v(r)},calculateTotal=()=>b.reduce((e,a)=>{let r=s.find(e=>e.id===a.productId);return r?e+r.current_price*a.quantity:e},0);return(0,r.jsx)(Z.Vq,{open:!0,onOpenChange:e,children:(0,r.jsxs)(Z.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto rounded-3xl",children:[(0,r.jsx)(Z.fK,{children:(0,r.jsxs)(Z.$N,{className:"text-2xl font-bold flex items-center gap-2",children:[(0,r.jsx)(k.Z,{className:"w-6 h-6"})," Local Cart (Simulate Order)"]})}),(0,r.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),0===b.length)return;let t=b.map(e=>{let a=s.find(s=>s.id===e.productId);return{product_id:e.productId,product_name:a?.name||"Unknown Product",quantity:e.quantity,price:a?.current_price||0,selected_options:{}}});a({customer_name:i,customer_phone:c,customer_address:x,delivery_type:m,notes:f,total_price:calculateTotal(),order_items:t}),e()},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(P._,{children:"Customer Name"}),(0,r.jsx)(h.I,{value:i,onChange:e=>n(e.target.value),placeholder:"John Doe",required:!0,className:"rounded-2xl"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(P._,{children:"Phone"}),(0,r.jsx)(h.I,{value:c,onChange:e=>o(e.target.value),placeholder:"+123456789",required:!0,className:"rounded-2xl"})]}),(0,r.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,r.jsx)(P._,{children:"Address"}),(0,r.jsx)(h.I,{value:x,onChange:e=>u(e.target.value),placeholder:"123 Street, City",required:"delivery"===m,className:"rounded-2xl"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(P._,{children:"Delivery Type"}),(0,r.jsxs)(j.Ph,{value:m,onValueChange:e=>p(e),children:[(0,r.jsx)(j.i4,{className:"rounded-2xl",children:(0,r.jsx)(j.ki,{})}),(0,r.jsxs)(j.Bw,{children:[(0,r.jsx)(j.Ql,{value:"delivery",children:"Home Delivery"}),(0,r.jsx)(j.Ql,{value:"pickup",children:"Pickup"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,r.jsx)(P._,{children:"Notes"}),(0,r.jsx)(q.g,{value:f,onChange:e=>g(e.target.value),className:"rounded-2xl resize-none"})]})]}),(0,r.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Items"}),(0,r.jsxs)(y.z,{type:"button",onClick:()=>{v([...b,{productId:"",quantity:1}])},variant:"outline",size:"sm",className:"rounded-2xl",children:[(0,r.jsx)(D.Z,{className:"w-4 h-4 mr-1"})," Add Item"]})]}),b.map((e,a)=>(0,r.jsxs)("div",{className:"flex gap-2 items-end bg-gray-50 p-3 rounded-2xl",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,r.jsx)(P._,{className:"text-xs",children:"Product"}),(0,r.jsxs)(j.Ph,{value:e.productId,onValueChange:e=>handleItemChange(a,"productId",e),children:[(0,r.jsx)(j.i4,{className:"bg-white rounded-xl h-9",children:(0,r.jsx)(j.ki,{placeholder:"Select product"})}),(0,r.jsx)(j.Bw,{children:s.map(e=>(0,r.jsxs)(j.Ql,{value:e.id,children:[e.name," - $",e.current_price]},e.id))})]})]}),(0,r.jsxs)("div",{className:"w-20 space-y-1",children:[(0,r.jsx)(P._,{className:"text-xs",children:"Qty"}),(0,r.jsx)(h.I,{type:"number",min:"1",value:e.quantity,onChange:e=>handleItemChange(a,"quantity",parseInt(e.target.value)),className:"bg-white rounded-xl h-9"})]}),(0,r.jsx)(y.z,{type:"button",onClick:()=>handleRemoveItem(a),variant:"ghost",size:"icon",className:"h-9 w-9 mb-[2px] text-red-500",children:(0,r.jsx)(I.Z,{className:"w-4 h-4"})})]},a)),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-2 font-bold text-lg",children:[(0,r.jsx)("span",{children:"Total:"}),(0,r.jsxs)("span",{children:["$",calculateTotal().toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(y.z,{type:"button",onClick:e,variant:"outline",className:"flex-1 rounded-3xl h-12",children:"Cancel"}),(0,r.jsx)(y.z,{type:"submit",className:"flex-1 rounded-3xl h-12 bg-[#008069] hover:bg-[#017561]",disabled:0===b.length,children:"Place Mock Order"})]})]})]})})}function MockOrdersPage(){let{orders:e,loading:s}=(0,l.useMockDashboard)(),[a,Z]=(0,t.useState)(null),[P,q]=(0,t.useState)(""),[k,D]=(0,t.useState)("all"),[I,S]=(0,t.useState)("all"),[M,Q]=(0,t.useState)(!1),{t:O,direction:z}=(0,C.Z)(),toggleExpand=e=>{Z(a===e?null:e)};return s?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,r.jsx)(d.Z,{className:"w-8 h-8 animate-spin text-gray-400"})}):(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8 pb-32",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold",children:[O("dashboard.nav_orders")||"Orders"," (Demo)"]}),(0,r.jsx)("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm font-medium",children:e.length})]}),(0,r.jsx)(y.z,{onClick:()=>Q(!0),className:"bg-[#008069] hover:bg-[#017561] rounded-2xl",children:"+ New Mock Order"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(i.Z,{className:`absolute ${"rtl"===z?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4`}),(0,r.jsx)(h.I,{placeholder:O("dashboard.search_orders"),value:P,onChange:e=>q(e.target.value),className:`${"rtl"===z?"pr-10":"pl-10"} rounded-xl bg-white`})]}),(0,r.jsxs)(j.Ph,{value:k,onValueChange:D,children:[(0,r.jsxs)(j.i4,{className:"w-full sm:w-[180px] rounded-xl bg-white",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,r.jsx)(j.ki,{placeholder:"Filter by date"})]}),(0,r.jsxs)(j.Bw,{children:[(0,r.jsx)(j.Ql,{value:"all",children:O("dashboard.filter_all")}),(0,r.jsx)(j.Ql,{value:"today",children:O("dashboard.filter_today")}),(0,r.jsx)(j.Ql,{value:"yesterday",children:O("dashboard.filter_yesterday")}),(0,r.jsx)(j.Ql,{value:"last_7_days",children:O("dashboard.filter_last_7_days")}),(0,r.jsx)(j.Ql,{value:"last_30_days",children:O("dashboard.filter_last_30_days")})]})]}),(0,r.jsxs)(j.Ph,{value:I,onValueChange:S,children:[(0,r.jsx)(j.i4,{className:"w-full sm:w-[150px] rounded-xl bg-white",children:(0,r.jsx)(j.ki,{placeholder:O("dashboard.filter_delivery_type")})}),(0,r.jsxs)(j.Bw,{children:[(0,r.jsx)(j.Ql,{value:"all",children:O("dashboard.filter_all_types")}),(0,r.jsx)(j.Ql,{value:"delivery",children:O("dashboard.filter_delivery")}),(0,r.jsx)(j.Ql,{value:"pickup",children:O("dashboard.filter_pickup")})]})]})]}),0===e.filter(e=>{let s=P.toLowerCase(),a=e.customer_name.toLowerCase().includes(s)||e.customer_phone.includes(s);if(!a)return!1;let r=(0,w.Z)(e.created_at);return"today"===k?(0,g.Z)(r):"yesterday"===k?(0,b.Z)(r):"last_7_days"===k?(0,_.Z)(r,(0,v.Z)((0,N.Z)(new Date),7)):"last_30_days"!==k||(0,_.Z)(r,(0,v.Z)((0,N.Z)(new Date),30))}).filter(e=>"all"===I||e.delivery_type===I).length?(0,r.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-gray-200",children:[(0,r.jsx)(c.Z,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,r.jsx)("p",{className:"text-gray-500",children:O("dashboard.no_orders")||"No orders found"})]}):(0,r.jsx)("div",{className:"space-y-4",children:e.filter(e=>{let s=P.toLowerCase(),a=e.customer_name.toLowerCase().includes(s)||e.customer_phone.includes(s);if(!a)return!1;let r=(0,w.Z)(e.created_at);return"today"===k?(0,g.Z)(r):"yesterday"===k?(0,b.Z)(r):"last_7_days"===k?(0,_.Z)(r,(0,v.Z)((0,N.Z)(new Date),7)):"last_30_days"!==k||(0,_.Z)(r,(0,v.Z)((0,N.Z)(new Date),30))}).filter(e=>"all"===I||e.delivery_type===I).map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between gap-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>toggleExpand(e.id),children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["pickup"===e.delivery_type?(0,r.jsx)("span",{title:O("dashboard.filter_pickup"),className:"text-lg",children:"\uD83C\uDFEA"}):(0,r.jsx)("span",{title:O("dashboard.filter_delivery"),className:"text-lg",children:"\uD83C\uDFE0"}),(0,r.jsx)("span",{className:"font-bold text-lg",children:e.customer_name})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-gray-500",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.Z,{className:"w-3 h-3"})," ",e.customer_phone]}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(x.Z,{className:"w-3 h-3"})," ",(0,f.ZP)(new Date(e.created_at),"MMM d, yyyy h:mm a")]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between sm:justify-end gap-4 min-w-[120px]",children:[(0,r.jsxs)("span",{className:"font-bold text-lg",children:[O("common.currency")," ",Number(e.total_price).toFixed(2)]}),a===e.id?(0,r.jsx)(u.Z,{className:"w-5 h-5 text-gray-400"}):(0,r.jsx)(m.Z,{className:"w-5 h-5 text-gray-400"})]})]}),a===e.id&&(0,r.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-100 space-y-4",children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("h4",{className:"font-medium mb-2 text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"})," ",O("customers.delivery_address")]}),(0,r.jsx)("p",{className:"text-gray-600 pl-6",children:e.customer_address})]}),e.notes&&(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("h4",{className:"font-medium mb-2 text-gray-700 flex items-center gap-2",children:["\uD83D\uDCDD ",O("common.notes")||"Notes"]}),(0,r.jsx)("p",{className:"text-gray-600 pl-6",children:e.notes})]}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("h4",{className:"font-medium mb-2 text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4"})," ",O("customers.order_items")]}),(0,r.jsx)("div",{className:"pl-6 space-y-2",children:Array.isArray(e.order_items)&&e.order_items.map((e,s)=>(0,r.jsxs)("div",{className:"flex justify-between items-center text-gray-600 bg-white p-2 rounded-lg border border-gray-100",children:[(0,r.jsxs)("span",{children:[(0,r.jsxs)("span",{className:"font-semibold text-black",children:[e.quantity,"x"]})," ",e.product_name]}),(0,r.jsxs)("span",{children:[O("common.currency")," ",(e.price*e.quantity).toFixed(2)]})]},s))})]})]})]},e.id))}),M&&(0,r.jsx)(CreateOrderModal,{onClose:()=>Q(!1)})]})}},12753:(e,s,a)=>{"use strict";a.d(s,{I:()=>d});var r=a(84196),t=a(78726),l=a(42135);let d=t.forwardRef(({className:e,type:s,...a},t)=>(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));d.displayName="Input"},68277:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>d,__esModule:()=>l,default:()=>n});var r=a(64074);let t=(0,r.createProxy)(String.raw`D:\whatsou\apps\web\app\demo\orders\page.tsx`),{__esModule:l,$$typeof:d}=t,i=t.default,n=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[771,2605,3926,7124,4304,6819,9328,4288,1980,265,3665,5131,129,6762,2379,1890,533,7283,3517,8444,4378,7952,7286,8410,7953,941,5616],()=>__webpack_exec__(84896));module.exports=a})();