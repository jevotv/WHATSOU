(()=>{var e={};e.id=8258,e.ids=[8258],e.modules={21841:e=>{"use strict";e.exports=require("@aws-sdk/client-s3")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},41790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},48552:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>g,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=t(66965),r=t(74902),n=t(36408),o=t.n(n),i=t(14346),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(s,l);let c=["",{children:["demo",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,50740)),"D:\\whatsou\\apps\\web\\app\\demo\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,78517)),"D:\\whatsou\\apps\\web\\app\\demo\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,47814))).default(e)],apple:[async e=>(await Promise.resolve().then(t.bind(t,90133))).default(e)],openGraph:[async e=>(await Promise.resolve().then(t.bind(t,3774))).default(e)],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(t.bind(t,27734)),"D:\\whatsou\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35438,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,47814))).default(e)],apple:[async e=>(await Promise.resolve().then(t.bind(t,90133))).default(e)],openGraph:[async e=>(await Promise.resolve().then(t.bind(t,3774))).default(e)],twitter:[],manifest:"/manifest.webmanifest"}}],d=["D:\\whatsou\\apps\\web\\app\\demo\\settings\\page.tsx"],g="/demo/settings/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/demo/settings/page",pathname:"/demo/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55696:(e,s,t)=>{Promise.resolve().then(t.bind(t,14860))},14860:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>MockSettingsPage});var a=t(84196),r=t(78726),n=t(74555),o=t(2420),i=t(12753),l=t(91586),c=t(82182),d=t(64690),g=t(76154),u=t(6006),m=t(29930),x=t(85905),h=t(53374),p=t(38249),b=t(2344),f=t(25413),v=t(19328),y=t.n(v),j=t(19886),N=t(97487),_=t(70004),w=t(40689);function MockSettingsPage(){let{store:e,updateStore:s}=(0,_.useMockDashboard)(),[t,v]=(0,r.useState)(!0),[k,P]=(0,r.useState)(!1),[C,S]=(0,r.useState)(""),[q,R]=(0,r.useState)(""),[I,A]=(0,r.useState)(""),[D,Q]=(0,r.useState)("en"),[E,M]=(0,r.useState)(""),[Z,T]=(0,r.useState)(""),[$,G]=(0,r.useState)(""),[z,L]=(0,r.useState)(""),[O,U]=(0,r.useState)(""),[F,X]=(0,r.useState)(""),[B,H]=(0,r.useState)(""),[V,Y]=(0,r.useState)(""),[J,K]=(0,r.useState)(!0),[W,ee]=(0,r.useState)(!1),es=(0,n.useRouter)(),{toast:et}=(0,f.pm)(),{t:ea,direction:er}=(0,N.Z)();(0,r.useEffect)(()=>{e&&(S(e.name),R(e.description||""),A(e.whatsapp_number),Q(e.default_language||"en"),M(e.email||""),T(e.logo_url||""),G(e.logo_url||""),L(e.facebook_url||""),U(e.instagram_url||""),X(e.twitter_url||""),H(e.tiktok_url||""),Y(e.location_url||""),K(e.allow_delivery??!0),ee(e.allow_pickup??!1),v(!1))},[e]);let handleRegenerateQR=async()=>{if(e){P(!0);try{let t=`${window.location.origin}/go/${e.id}`,a=await w.toDataURL(t);s({qr_code:a}),et({title:"rtl"===er?"تم تحديث رمز QR (تجريبي)":"QR Code Regenerated (Demo)",description:"rtl"===er?"تم تحديث رمز الاستجابة السريعة محليًا":"Your store QR code has been regenerated locally."})}catch(e){et({title:ea("common.error"),description:e.message,variant:"destructive"})}finally{P(!1)}}},handleSave=async()=>{if(e){P(!0);try{await new Promise(e=>setTimeout(e,800)),s({name:C,description:q||void 0,whatsapp_number:(0,j.yL)(I),default_language:D,email:E||void 0,logo_url:Z,facebook_url:z||void 0,instagram_url:O||void 0,twitter_url:F||void 0,tiktok_url:B||void 0,location_url:V||void 0,allow_delivery:J,allow_pickup:W}),et({title:ea("settings.saved")+" (Demo)",description:ea("settings.saved_desc")+" Changes are local to this session."})}catch(e){et({title:ea("common.error"),description:e.message,variant:"destructive"})}finally{P(!1)}}};return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#f6f8f7]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#008069]"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-[#f6f8f7]",dir:er,children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("button",{onClick:()=>es.push("/demo"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[(0,a.jsx)(d.Z,{className:`w-5 h-5 ${"rtl"===er?"rotate-180":""}`}),(0,a.jsx)("span",{className:"font-medium",children:ea("common.back")})]}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:ea("settings.title")}),(0,a.jsxs)(o.z,{onClick:handleSave,disabled:k,className:"bg-[#008069] hover:bg-green-500 text-[#111813] font-bold rounded-lg",children:[(0,a.jsx)(g.Z,{className:`w-4 h-4 ${"rtl"===er?"ml-2":"mr-2"}`}),k?ea("common.saving"):ea("common.save")]})]})})}),(0,a.jsx)("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:pb-24",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 text-[#008069]"}),ea("settings.identity")]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative group cursor-pointer",children:[(0,a.jsx)("div",{className:"relative h-32 w-32 rounded-full border-4 border-gray-100 overflow-hidden bg-gradient-to-br from-[#008069] to-green-600",children:$?(0,a.jsx)(y(),{src:$,alt:"Store logo",fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-4xl font-bold",children:C.charAt(0).toUpperCase()})})}),(0,a.jsxs)("label",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[(0,a.jsx)(m.Z,{className:"w-8 h-8 text-white"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];if(s){let e=new FileReader;e.onloadend=()=>{G(e.result),T(e.result)},e.readAsDataURL(s)}},className:"hidden"})]})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-[#008069]",children:ea("settings.change_logo")})]}),(0,a.jsxs)("div",{className:"flex-1 w-full space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:ea("settings.store_name")}),(0,a.jsx)(i.I,{value:C,onChange:e=>S(e.target.value),placeholder:"My Awesome Store",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:ea("settings.description")}),(0,a.jsx)(l.g,{value:q,onChange:e=>R(e.target.value),placeholder:ea("settings.description"),rows:4,className:"rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069] resize-none"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-right",children:ea("settings.character_limit",{current:q.length,max:500})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-[#008069]"}),ea("settings.contact_info")]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:ea("settings.whatsapp")}),(0,a.jsx)(i.I,{value:I,onChange:e=>A(e.target.value),placeholder:"+1 (555) 123-4567",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:ea("settings.whatsapp_desc")})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:ea("settings.email")}),(0,a.jsx)(i.I,{type:"email",value:E,onChange:e=>M(e.target.value),placeholder:"support@yourstore.com",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5 mt-6",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:ea("settings.default_language")}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"language",value:"en",checked:"en"===D,onChange:e=>Q(e.target.value),className:"w-4 h-4 text-[#008069] focus:ring-[#008069]"}),(0,a.jsx)("span",{children:ea("settings.english")})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"language",value:"ar",checked:"ar"===D,onChange:e=>Q(e.target.value),className:"w-4 h-4 text-[#008069] focus:ring-[#008069]"}),(0,a.jsx)("span",{children:ea("settings.arabic")})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:ea("settings.language_help")})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-[#008069]"}),ea("settings.delivery_options")]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",checked:J,onChange:e=>{if(!e.target.checked&&!W){et({title:ea("settings.delivery_required_error"),variant:"destructive"});return}K(e.target.checked)},className:"w-5 h-5 text-[#008069] focus:ring-[#008069] rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:ea("settings.allow_delivery")}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:ea("settings.allow_delivery_desc")})]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",checked:W,onChange:e=>{if(!e.target.checked&&!J){et({title:ea("settings.delivery_required_error"),variant:"destructive"});return}ee(e.target.checked)},className:"w-5 h-5 text-[#008069] focus:ring-[#008069] rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:ea("settings.allow_pickup")}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:ea("settings.allow_pickup_desc")})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 text-[#008069]"}),ea("settings.social_media")]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:"Facebook"}),(0,a.jsx)(i.I,{value:z,onChange:e=>L(e.target.value),placeholder:"https://facebook.com/yourstore",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:"Instagram"}),(0,a.jsx)(i.I,{value:O,onChange:e=>U(e.target.value),placeholder:"https://instagram.com/yourstore",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:"Twitter / X"}),(0,a.jsx)(i.I,{value:F,onChange:e=>X(e.target.value),placeholder:"https://twitter.com/yourstore",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:"TikTok"}),(0,a.jsx)(i.I,{value:B,onChange:e=>H(e.target.value),placeholder:"https://tiktok.com/@yourstore",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c._,{className:"text-sm font-bold text-gray-700",children:ea("onboarding.location")}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.I,{value:V,onChange:e=>Y(e.target.value),placeholder:"https://maps.google.com/...",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"}),(0,a.jsx)(o.z,{type:"button",variant:"outline",onClick:()=>{if(!navigator.geolocation){et({title:ea("common.error"),description:ea("onboarding.geolocation_not_supported"),variant:"destructive"});return}et({title:ea("onboarding.locating"),description:ea("onboarding.getting_location")}),navigator.geolocation.getCurrentPosition(e=>{let{latitude:s,longitude:t}=e.coords,a=`https://www.google.com/maps?q=${s},${t}`;Y(a),et({title:ea("onboarding.location_found"),description:ea("onboarding.location_set")})},e=>{console.error("Geolocation error:",e);let s=ea("onboarding.location_error");e.code===e.PERMISSION_DENIED?s=ea("onboarding.location_permission_denied"):e.code===e.POSITION_UNAVAILABLE?s=ea("onboarding.location_unavailable"):e.code===e.TIMEOUT&&(s=ea("onboarding.location_timeout")),et({title:ea("common.error"),description:s,variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},className:"h-11 rounded-lg border-gray-200 text-gray-600 hover:text-[#008069] shrink-0",title:ea("onboarding.get_current_location"),children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 text-[#008069]"}),"rtl"===er?"رمز الاستجابة السريعة (QR)":"QR Code"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"rtl"===er?"إذا كنت تواجه مشاكل في مسح رمز QR الخاص بمتجرك، يمكنك إعادة إنشائه هنا.":"If you are experiencing issues with scanning your store QR code, you can regenerate it here."}),(0,a.jsx)(o.z,{onClick:handleRegenerateQR,disabled:k,variant:"outline",className:"border-[#008069] text-[#008069] hover:bg-green-50",children:"rtl"===er?"إعادة إنشاء رمز QR":"Regenerate QR Code"})]})]})]})})]})}},50740:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var a=t(64074);let r=(0,a.createProxy)(String.raw`D:\whatsou\apps\web\app\demo\settings\page.tsx`),{__esModule:n,$$typeof:o}=r,i=r.default,l=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[771,2605,3926,7124,4304,6819,9328,4288,1980,265,3665,5131,2379,7182,1026,9701,3517,8444,4378,7952,7286,9406,7953,941,5616],()=>__webpack_exec__(48552));module.exports=t})();