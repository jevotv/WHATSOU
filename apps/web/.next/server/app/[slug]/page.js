(()=>{var e={};e.id=6042,e.ids=[6042],e.modules={21841:e=>{"use strict";e.exports=require("@aws-sdk/client-s3")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},41790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{"use strict";e.exports=require("crypto")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},15849:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(66965),a=r(74902),l=r(36408),n=r.n(l),i=r(14346),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,62783)),"D:\\whatsou\\apps\\web\\app\\[slug]\\page.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.bind(r,90806)),"D:\\whatsou\\apps\\web\\app\\[slug]\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,47814))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,90133))).default(e)],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,3774))).default(e)],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,27734)),"D:\\whatsou\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35438,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,47814))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,90133))).default(e)],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,3774))).default(e)],twitter:[],manifest:"/manifest.webmanifest"}}],d=["D:\\whatsou\\apps\\web\\app\\[slug]\\page.tsx"],u="/[slug]/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[slug]/page",pathname:"/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},37452:(e,t,r)=>{Promise.resolve().then(r.bind(r,88210)),Promise.resolve().then(r.bind(r,97053)),Promise.resolve().then(r.t.bind(r,76230,23))},97053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>StorePausedPage});var s=r(84196),a=r(37714),l=r(64626),n=r(97487);function StorePausedPage({whatsappNumber:e,storeName:t}){let{language:r,direction:i}=(0,n.Z)(),o=e.replace(/\D/g,""),c=`https://wa.me/${o}`;return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-gray-100 to-gray-200",dir:i,children:(0,s.jsxs)("div",{className:"max-w-md w-full text-center space-y-8",children:[(0,s.jsx)("div",{className:"mx-auto w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,s.jsx)(a.Z,{className:"w-12 h-12 text-yellow-600"})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"ar"===r?"Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØ¬Ø± Ù…ØªÙˆÙ‚Ù Ù…Ø¤Ù‚ØªØ§Ù‹":"This Store is Temporarily Paused"}),(0,s.jsx)("p",{className:"text-gray-600",children:"ar"===r?"Ù†Ø¹ØªØ°Ø± Ø¹Ù† Ø£ÙŠ Ø¥Ø²Ø¹Ø§Ø¬. Ø§Ù„Ù…ØªØ¬Ø± Ø³ÙŠØ¹ÙˆØ¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹.":"We apologize for any inconvenience. The store will be back soon."})]}),(0,s.jsx)("div",{className:"bg-white/80 backdrop-blur rounded-xl p-4 shadow-sm",children:(0,s.jsx)("p",{className:"text-lg font-medium text-gray-800",children:t})}),(0,s.jsxs)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 bg-[#25D366] hover:bg-[#20BD5A] text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all hover:scale-105",children:[(0,s.jsx)(l.Z,{className:"w-6 h-6"}),(0,s.jsx)("span",{children:"ar"===r?"ØªÙˆØ§ØµÙ„ Ù…Ø¹ ØµØ§Ø­Ø¨ Ø§Ù„Ù…ØªØ¬Ø±":"Contact Store Owner"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"ar"===r?"ØªÙ‚Ø¯Ù…Ø© Ù…Ù† ÙˆØ§ØªØ³Ùˆ - Ù…ØªØ¬Ø±Ùƒ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨":"Powered by Whatsou - Your WhatsApp Store"})]})})}},88210:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>StorefrontClient});var s=r(84196),a=r(78726),l=r(27973),n=r(50198),i=r(24850),o=r(28528),c=r(99748),d=r(86442),u=r(67043),x=r(28467),m=r(16538),h=r(78611),g=r(75631),f=r(12753),p=r(19328),b=r.n(p),j=r(24288),w=r.n(j),y=r(10204),v=r(25413),_=r(97487),N=r(2420),k=r(32583),C=r(96810),P=r(81499),S=r(41800),$=r(56617),Z=r(80808),A=r(65714),q=r(74555),F=r(64463),z=r(7930),E=r(58406),D=r(35838),M=r(42135);function ProductFilters({isOpen:e,onClose:t,maxPrice:r,minPrice:l,priceRange:n,onPriceChange:i,attributes:o,selectedAttributes:c,onAttributeChange:d,onClearFilters:u}){let{t:x,direction:m}=(0,_.Z)(),[h,g]=a.useState(o.map(e=>e.name)),toggleSection=e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(a.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 transition-opacity",onClick:t}),(0,s.jsxs)("div",{className:(0,M.cn)("fixed inset-y-0 z-50 w-full sm:w-[400px] bg-white shadow-2xl transition-transform duration-300 ease-in-out flex flex-col","rtl"===m?"left-0":"right-0"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)($.Z,{className:"w-5 h-5 text-[#111813]"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-[#111813]",children:x("storefront.filters")})]}),(0,s.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,s.jsx)(F.Z,{className:"w-5 h-5 text-gray-500"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto py-6 px-6 space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-bold text-[#111813]",children:x("storefront.price_range")}),(0,s.jsx)("div",{className:"px-2",children:(0,s.jsxs)(D.fC,{className:"relative flex items-center select-none touch-none w-full h-5",value:n,max:r,min:l,step:1,minStepsBetweenThumbs:1,onValueChange:e=>i(e),children:[(0,s.jsx)(D.fQ,{className:"bg-gray-200 relative grow rounded-full h-[3px]",children:(0,s.jsx)(D.e6,{className:"absolute bg-[#111813] rounded-full h-full"})}),(0,s.jsx)(D.bU,{className:"block w-5 h-5 bg-white border-2 border-[#111813] shadow-md rounded-full hover:scale-110 focus:outline-none transition-transform","aria-label":"Min Price"}),(0,s.jsx)(D.bU,{className:"block w-5 h-5 bg-white border-2 border-[#111813] shadow-md rounded-full hover:scale-110 focus:outline-none transition-transform","aria-label":"Max Price"})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600",children:[(0,s.jsxs)("span",{children:[n[0]," ",x("common.currency")]}),(0,s.jsxs)("span",{children:[n[1]," ",x("common.currency")]})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-100"}),o.map(e=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("button",{onClick:()=>toggleSection(e.name),className:"flex items-center justify-between w-full group",children:[(0,s.jsx)("h3",{className:"font-bold text-[#111813] group-hover:text-[#19e65e] transition-colors",children:e.name}),(0,s.jsx)(z.Z,{className:(0,M.cn)("w-5 h-5 text-gray-400 transition-transform duration-200",h.includes(e.name)&&"rotate-180")})]}),h.includes(e.name)&&(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 animate-in slide-in-from-top-2 duration-200",children:e.values.map(t=>{let r=c[e.name]?.includes(t);return(0,s.jsxs)("button",{onClick:()=>d(e.name,t),className:(0,M.cn)("flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all border",r?"bg-[#111813] text-white border-[#111813] shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[(0,s.jsx)("div",{className:(0,M.cn)("w-4 h-4 rounded border flex items-center justify-center transition-colors",r?"border-white bg-[#111813]":"border-gray-300 bg-white"),children:r&&(0,s.jsx)(E.Z,{className:"w-3 h-3 text-white"})}),(0,s.jsx)("span",{className:"truncate",children:t})]},t)})}),(0,s.jsx)("div",{className:"border-t border-gray-100 my-4"})]},e.name))]}),(0,s.jsxs)("div",{className:"border-t border-gray-100 p-6 bg-white space-y-3",children:[(0,s.jsx)(N.z,{onClick:t,className:"w-full bg-[#111813] hover:bg-black text-white h-12 rounded-xl text-base font-bold shadow-md hover:shadow-lg transition-all",children:x("filters.show_results")}),(0,s.jsx)(N.z,{variant:"ghost",onClick:u,className:"w-full h-10 text-gray-500 hover:text-red-500 hover:bg-red-50 rounded-xl",children:x("filters.clear_all")})]})]})]}):null}var T=r(8410),Q=r(22548);let getTotalStock=e=>e.variants&&e.variants.length>0?e.variants.reduce((e,t)=>e+t.quantity,0):e.quantity;function StorefrontClient({store:e,products:t}){let{t:r,language:p,setLanguage:j,direction:F}=(0,_.Z)(),z=(0,q.useRouter)(),E=(0,q.usePathname)(),D=(0,q.useSearchParams)(),[M,L]=(0,a.useState)(()=>{let e=D.get("category");return"All"===e||"Ø§Ù„ÙƒÙ„"===e?r("storefront.all_categories"):e||r("storefront.all_categories")});(0,a.useEffect)(()=>{["All","Ø§Ù„ÙƒÙ„"].includes(M)&&L(r("storefront.all_categories"))},[p,r,M]);let[O,G]=(0,a.useState)(D.get("q")||""),[W,B]=(0,a.useState)(!1),[R,U]=(0,a.useState)("grid"),[I,V]=(0,a.useState)({}),[Y,H]=(0,a.useState)(null),[J,X]=(0,a.useState)(!1),[K,ee]=(0,a.useState)(()=>{let e={};return D.forEach((t,r)=>{["category","q","sort","min_price","max_price"].includes(r)||(e[r]=t.split(","))}),e}),[et,er]=(0,a.useState)(D.get("sort")||"newest"),{attributes:es,maxPrice:ea,minPrice:el}=(0,a.useMemo)(()=>{let e={},r=0,s=1/0,normalize=e=>e.trim().toLowerCase(),toTitleCase=e=>e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());return t.forEach(t=>{t.options?.forEach(t=>{let r=t.name.trim(),s=normalize(r);e[s]||(e[s]={name:toTitleCase(r),values:new Set}),t.values.forEach(t=>e[s].values.add(t.trim()))}),t.current_price>r&&(r=t.current_price),t.current_price<s&&(s=t.current_price)}),s===1/0&&(s=0),{attributes:Object.values(e).map(e=>({name:e.name,values:Array.from(e.values)})),maxPrice:r,minPrice:s}},[t]),[en,ei]=(0,a.useState)(()=>{let e=D.get("min_price")?Number(D.get("min_price")):el,t=D.get("max_price")?Number(D.get("max_price")):ea;return[Math.max(e,el),Math.min(t,ea)]});(0,a.useEffect)(()=>{D.get("min_price")||D.get("max_price")||ei([el,ea])},[el,ea,D]),(0,a.useEffect)(()=>{window.innerWidth<640?U("list"):U("grid")},[]);let{addItem:eo,totalItems:ec,totalPrice:ed}=(0,l.useCart)(),{toast:eu}=(0,v.pm)(),{user:ex,loading:em}=(0,A.useAuth)(),eh=ex?.id===e.user_id,eg=(0,a.useMemo)(()=>t.filter(e=>!!e.unlimited_stock||getTotalStock(e)>0),[t]),ef=(0,a.useMemo)(()=>{let e=new Set(eg.map(e=>e.category).filter(Boolean));return[r("storefront.all_categories"),...Array.from(e)]},[eg,r]);(0,a.useEffect)(()=>{let e=new URLSearchParams,t=r("storefront.all_categories");M&&M!==t&&"All"!==M&&"Ø§Ù„ÙƒÙ„"!==M&&e.set("category",M),O&&e.set("q",O),et&&"newest"!==et&&e.set("sort",et),en[0]>el&&e.set("min_price",en[0].toString()),en[1]<ea&&e.set("max_price",en[1].toString()),Object.entries(K).forEach(([t,r])=>{r.length>0&&e.set(t,r.join(","))});let s=`${E}?${e.toString()}`;z.replace(s,{scroll:!1})},[M,O,et,en,K,el,ea,E,z,r]);let clearAllFilters=()=>{ei([el,ea]),ee({}),er("newest")},ep=(0,a.useMemo)(()=>{let e=[...eg],t=r("storefront.all_categories");if(M&&M!==t&&"All"!==M&&"Ø§Ù„ÙƒÙ„"!==M&&(e=e.filter(e=>e.category===M)),O.trim()){let t=O.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t))}return e=e.filter(e=>e.current_price>=en[0]&&e.current_price<=en[1]),Object.entries(K).forEach(([t,r])=>{0!==r.length&&(e=e.filter(e=>{let normalize=e=>e.trim().toLowerCase(),s=e.options?.find(e=>normalize(e.name)===normalize(t));return!!s&&s.values.some(e=>r.some(t=>e.trim()===t.trim()))}))}),"price_asc"===et?e.sort((e,t)=>e.current_price-t.current_price):"price_desc"===et?e.sort((e,t)=>t.current_price-e.current_price):"newest"===et?e.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()):"best_selling"===et&&e.sort((e,t)=>(t.sales_count||0)-(e.sales_count||0)),e},[eg,M,O,en,K,et,r]),updateQuantity=(e,t,r)=>{V(s=>{let a=s[e]||1;return{...s,[e]:Math.max(1,Math.min(r,a+t))}})},getQuantity=e=>I[e]||1,handleAddToCart=t=>{let s=t.options&&t.options.length>0;if(s)return;let a=getQuantity(t.id),l=getTotalStock(t);if(!t.unlimited_stock&&a>l){eu({title:r("storefront.not_enough_stock"),description:r("storefront.not_enough_stock_desc",{count:l}),variant:"destructive"});return}eo({product_id:t.id,product_name:t.name,quantity:a,price:t.current_price,selected_options:{},image_url:t.thumbnail_url||t.image_url});let n=ed+t.current_price*a,i=e.free_shipping_threshold,o=r("storefront.added_to_cart_desc",{quantity:a,name:t.name});if(i&&n<i){let e=i-n,t="rtl"===F?`
Ù…ØªØ¨Ù‚ÙŠ ${e.toFixed(2)} ${r("common.currency")} Ù„Ù„Ø´Ø­Ù† Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ!`:`
Add ${e.toFixed(2)} ${r("common.currency")} more for free shipping!`;o+=t}else if(i&&n>=i&&ed<i){let e="rtl"===F?`
ðŸŽ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ!`:`
ðŸŽ‰ Hooray! You unlocked free shipping!`;o+=e}eu({title:r("storefront.added_to_cart"),description:o}),V(e=>({...e,[t.id]:1}))};return(0,a.useEffect)(()=>{let t=localStorage.getItem("language");!t&&e.default_language&&["en","ar"].includes(e.default_language)&&j(e.default_language)},[e.default_language,j]),(0,s.jsxs)("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-[#f6f8f6]",children:[e.free_shipping_threshold&&(0,s.jsx)("div",{className:"bg-[#008069] text-white py-2 overflow-hidden whitespace-nowrap relative z-50",children:(0,s.jsx)("div",{className:`inline-block ${"rtl"===F?"animate-marquee-rtl":"animate-marquee"}`,children:[1,2,3,4,5,6,7,8].map(t=>(0,s.jsx)("span",{className:"inline-block px-8 font-medium text-sm",children:"rtl"===F?`ðŸ“¦ Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ù€ ${e.free_shipping_threshold} ${r("common.currency")}`:`ðŸ“¦ Free shipping on orders over ${e.free_shipping_threshold} ${r("common.currency")}`},t))})}),!em&&eh&&(0,s.jsx)(Q.Z,{}),(0,s.jsxs)("header",{className:"bg-white w-full pt-8 pb-4 border-b border-gray-100 relative",children:[(0,s.jsx)("div",{className:"absolute top-4 right-4 sm:right-8 z-10",children:(0,s.jsxs)(N.z,{variant:"ghost",size:"sm",onClick:()=>j("en"===p?"ar":"en"),className:"flex items-center gap-2 text-gray-600 hover:text-[#19e65e]",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"font-medium",children:"en"===p?"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©":"English"})]})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"flex flex-col items-center max-w-[960px] w-full px-4",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("div",{className:"relative h-24 w-24 rounded-full ring-4 ring-[#19e65e]/10 overflow-hidden bg-white shadow-sm flex items-center justify-center",children:e.logo_url?(0,s.jsx)(b(),{src:e.logo_url,alt:e.name+" - Logo",fill:!0,className:"object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center p-4",children:(0,s.jsx)(b(),{src:"/logo.png",alt:e.name+" - Logo",width:96,height:96,className:"object-contain"})})}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[e.facebook_url&&(0,s.jsx)("a",{href:e.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#1877F2] transition-colors bg-gray-50 p-2 rounded-full hover:bg-[#1877F2]/10",children:(0,s.jsx)(C.Z,{className:"w-5 h-5"})}),e.instagram_url&&(0,s.jsx)("a",{href:e.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#E4405F] transition-colors bg-gray-50 p-2 rounded-full hover:bg-[#E4405F]/10",children:(0,s.jsx)(P.Z,{className:"w-5 h-5"})}),e.twitter_url&&(0,s.jsx)("a",{href:e.twitter_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#1DA1F2] transition-colors bg-gray-50 p-2 rounded-full hover:bg-[#1DA1F2]/10",children:(0,s.jsx)(S.Z,{className:"w-5 h-5"})}),e.tiktok_url&&(0,s.jsx)("a",{href:e.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#000000] transition-colors bg-gray-50 p-2 rounded-full hover:bg-[#000000]/10",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:(0,s.jsx)("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})}),e.location_url&&(0,s.jsx)("a",{href:e.location_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#EA4335] transition-colors bg-gray-50 p-2 rounded-full hover:bg-[#EA4335]/10",children:(0,s.jsx)(n.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e.name}),e.description&&(0,s.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:e.description})]})]})})})]}),(0,s.jsx)("div",{className:"sticky top-0 z-20 w-full bg-white/95 backdrop-blur-sm border-b border-gray-100 py-3",children:(0,s.jsx)("div",{className:"flex justify-center w-full",children:(0,s.jsxs)("div",{className:"max-w-[1200px] w-full px-4 sm:px-8 space-y-3",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(i.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)(f.I,{type:"text",placeholder:r("storefront.search_placeholder"),value:O,onChange:e=>G(e.target.value),className:"pl-12 h-11 rounded-xl border-gray-200 focus:ring-2 focus:ring-[#19e65e] text-base bg-white"})]}),(0,s.jsxs)("button",{onClick:()=>X(!0),className:`flex items-center justify-center gap-2 px-4 rounded-xl border transition-all h-11 shrink-0 ${Object.keys(K).length>0||en[0]>el||en[1]<ea?"border-[#19e65e] text-[#19e65e] bg-[#19e65e]/5":"border-gray-200 hover:border-[#19e65e] hover:text-[#19e65e] bg-white text-gray-700"}`,children:[(0,s.jsx)($.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline font-bold",children:r("storefront.filters")})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-1 sm:pb-0 scrollbar-hide",children:[(0,s.jsxs)(T.Ph,{value:et,onValueChange:er,children:[(0,s.jsx)(T.i4,{className:"w-[160px] h-11 rounded-xl border-gray-200 bg-white shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"truncate font-medium",children:["price_asc"===et&&r("storefront.sort_price_asc"),"price_desc"===et&&r("storefront.sort_price_desc"),"newest"===et&&r("storefront.sort_newest"),"best_selling"===et&&r("storefront.sort_best_selling")]})]})}),(0,s.jsxs)(T.Bw,{children:[(0,s.jsx)(T.Ql,{value:"newest",children:r("storefront.sort_newest")}),(0,s.jsx)(T.Ql,{value:"best_selling",children:r("storefront.sort_best_selling")}),(0,s.jsx)(T.Ql,{value:"price_asc",children:r("storefront.sort_price_asc")}),(0,s.jsx)(T.Ql,{value:"price_desc",children:r("storefront.sort_price_desc")})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-xl shrink-0 h-11",children:[(0,s.jsx)("button",{onClick:()=>U("grid"),className:`p-2 rounded-lg transition-all ${"grid"===R?"bg-white shadow-sm text-[#111813]":"text-gray-400 hover:text-gray-600"}`,children:(0,s.jsx)(o.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>U("list"),className:`p-2 rounded-lg transition-all ${"list"===R?"bg-white shadow-sm text-[#111813]":"text-gray-400 hover:text-gray-600"}`,children:(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]})]})]}),(0,s.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-1 scrollbar-hide",children:ef.map(e=>(0,s.jsx)("button",{onClick:()=>{M===e&&e!==r("storefront.all_categories")?L(r("storefront.all_categories")):L(e)},className:`flex h-9 shrink-0 items-center justify-center rounded-full px-6 transition-all ${M===e?"bg-[#111813] text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:(0,s.jsx)("span",{className:"text-sm font-medium leading-normal",children:e})},e))})]})})}),(0,s.jsx)("main",{className:"flex-grow flex justify-center py-8",children:(0,s.jsx)("div",{className:"flex flex-col max-w-[1200px] w-full px-4 sm:px-8",children:0===ep.length?(0,s.jsxs)("div",{className:"text-center py-16 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-gray-50 rounded-full flex items-center justify-center mb-6",children:(0,s.jsx)(i.Z,{className:"w-10 h-10 text-gray-300"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r("storefront.no_products_found")}),(0,s.jsx)("p",{className:"text-gray-500 max-w-sm mb-8",children:r("storefront.no_products_found_desc")}),(0,s.jsx)(N.z,{onClick:clearAllFilters,className:"bg-[#111813] hover:bg-black text-white h-11 px-6 rounded-full",children:r("storefront.clear_filters")})]}):(0,s.jsx)("div",{className:"grid"===R?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"flex flex-col gap-4",children:ep.map(t=>{let a=t.original_price&&t.original_price>t.current_price,l=getTotalStock(t),n=t.unlimited_stock,i=n?9999:l,o=t.options&&t.options.length>0,c=getQuantity(t.id);return(0,s.jsxs)("div",{className:`group relative bg-white transition-all duration-300 hover:shadow-lg ${"grid"===R?"p-4 rounded-2xl shadow-sm flex flex-col gap-4":"p-3 rounded-2xl shadow-sm border border-gray-100 flex flex-col overflow-hidden"}`,children:["list"===R&&(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 w-full",children:[(0,s.jsx)("div",{className:"relative shrink-0",children:(0,s.jsx)(w(),{href:`/${e.slug}/p/${t.id}`,onClick:()=>H(t.id),children:(0,s.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 overflow-hidden rounded-xl bg-gray-50 border border-gray-100 relative",children:t.thumbnail_url||t.image_url?(0,s.jsx)(b(),{src:t.thumbnail_url||t.image_url,alt:t.name,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-110"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:(0,s.jsx)(d.Z,{size:24,strokeWidth:1.5})})})})}),(0,s.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,s.jsx)("div",{className:"flex justify-between items-start",children:(0,s.jsx)(w(),{href:`/${e.slug}/p/${t.id}`,onClick:()=>H(t.id),className:"w-full",children:(0,s.jsx)("h3",{className:"text-[#111813] font-bold text-sm sm:text-base leading-tight truncate w-full group-hover:text-[#19e65e] transition-colors",children:t.name})})}),t.description&&(0,s.jsx)("p",{className:"text-gray-400 text-[11px] sm:text-xs mt-1 line-clamp-2 leading-relaxed",children:t.description})]})]}),(0,s.jsx)("div",{className:"my-3 border-t border-gray-50"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-0.5",children:[(0,s.jsx)("span",{className:"text-base sm:text-xl font-black text-[#111813]",children:t.current_price.toFixed(2)}),(0,s.jsx)("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:r("common.currency")})]}),a&&(0,s.jsxs)("span",{className:"text-[10px] line-through text-gray-300",children:[t.original_price.toFixed(2)," ",r("common.currency")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[!o&&(n||l>0)&&(0,s.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-0.5 border border-gray-100",children:[(0,s.jsx)("button",{onClick:()=>updateQuantity(t.id,-1,i),className:"w-7 h-7 flex items-center justify-center rounded-md bg-white shadow-sm hover:bg-gray-50 transition-all active:scale-90",children:(0,s.jsx)(u.Z,{size:12,className:"text-gray-600"})}),(0,s.jsx)("span",{className:"w-6 text-center font-bold text-xs text-[#111813]",children:c}),(0,s.jsx)("button",{onClick:()=>updateQuantity(t.id,1,i),disabled:c>=i,className:`w-7 h-7 flex items-center justify-center rounded-md bg-white shadow-sm hover:bg-gray-50 transition-all active:scale-90 ${c>=i?"opacity-50 cursor-not-allowed":""}`,children:(0,s.jsx)(x.Z,{size:12,className:"text-gray-600"})})]}),!o&&(n||l>0)&&(0,s.jsxs)("button",{onClick:()=>handleAddToCart(t),className:"flex items-center justify-center gap-1.5 bg-[#111813] text-white h-8 px-3 rounded-lg font-bold text-[11px] sm:text-xs hover:bg-black transition-all active:scale-95 shrink-0 shadow-sm",children:[(0,s.jsx)(m.Z,{size:13}),(0,s.jsx)("span",{children:r("storefront.add_to_cart")})]}),o&&(n||l>0)&&(0,s.jsx)(w(),{href:`/${e.slug}/p/${t.id}`,onClick:()=>H(t.id),className:"flex items-center justify-center gap-1.5 bg-[#111813] text-white h-8 px-3 rounded-lg font-bold text-[11px] sm:text-xs hover:bg-black transition-all active:scale-95 shrink-0 shadow-sm",children:(0,s.jsx)("span",{children:r("storefront.select_options")})}),!n&&l<=0&&(0,s.jsx)("button",{disabled:!0,className:"flex items-center justify-center gap-1.5 bg-gray-200 text-gray-500 h-8 px-3 rounded-lg font-bold text-[11px] sm:text-xs cursor-not-allowed shrink-0",children:(0,s.jsx)("span",{children:r("storefront.out_of_stock")})})]})]})]}),"grid"===R&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w(),{href:`/${e.slug}/p/${t.id}`,onClick:()=>H(t.id),children:(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gray-100 w-full aspect-[4/5]",children:[t.thumbnail_url||t.image_url?(0,s.jsx)(b(),{src:t.thumbnail_url||t.image_url,alt:`${t.name} | ${e.name}`,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-105"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(d.Z,{className:"w-16 h-16 text-gray-300"})}),Y===t.id&&(0,s.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[1px] transition-all duration-300",children:(0,s.jsx)(h.Z,{className:"w-8 h-8 text-white animate-spin"})}),(0,s.jsxs)("div",{className:"absolute bottom-3 left-3 bg-[#19e65e]/90 backdrop-blur-md text-[#111813] px-3 py-1.5 rounded-full flex items-center gap-2 shadow-sm",children:[(0,s.jsxs)("span",{className:"text-sm font-bold",children:[r("storefront.price")," ",t.current_price.toFixed(2)]}),a&&(0,s.jsx)("span",{className:"text-xs line-through opacity-60",children:t.original_price.toFixed(2)})]}),!n&&l<=0&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-lg",children:r("storefront.out_of_stock")})})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(w(),{href:`/${e.slug}/p/${t.id}`,onClick:()=>H(t.id),children:(0,s.jsx)("h3",{className:"text-[#111813] text-lg font-medium leading-tight hover:text-[#19e65e] transition-colors truncate w-full",children:t.name})}),t.description&&(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-1 line-clamp-1",children:t.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3 mt-1",children:[!o&&(n||l>0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-full h-10 px-1",children:[(0,s.jsx)("button",{onClick:()=>updateQuantity(t.id,-1,i),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white text-gray-600 transition-colors",children:(0,s.jsx)(u.Z,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"w-6 text-center text-sm font-medium",children:c}),(0,s.jsx)("button",{onClick:()=>updateQuantity(t.id,1,i),disabled:c>=i,className:`w-8 h-8 flex items-center justify-center rounded-full hover:bg-white text-gray-600 transition-colors ${c>=i?"opacity-50 cursor-not-allowed":""}`,children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})})]}),(0,s.jsx)("button",{onClick:()=>handleAddToCart(t),className:"flex-1 h-10 bg-[#111813] text-white rounded-full text-sm font-medium hover:opacity-90 transition-opacity",children:r("storefront.add_to_cart")})]}),o&&(n||l>0)&&(0,s.jsx)(w(),{href:`/${e.slug}/p/${t.id}`,onClick:()=>H(t.id),className:"flex-1 h-10 bg-[#111813] text-white rounded-full text-sm font-medium hover:opacity-90 transition-opacity flex items-center justify-center",children:r("storefront.select_options")}),!n&&l<=0&&(0,s.jsx)("button",{disabled:!0,className:"flex-1 h-10 bg-gray-200 text-gray-500 rounded-full text-sm font-medium cursor-not-allowed",children:r("storefront.out_of_stock")})]})]})]})]},t.id)})})})}),(0,s.jsx)("footer",{className:"mt-auto bg-white border-t border-gray-100 py-10",children:(0,s.jsx)("div",{className:"flex flex-col gap-6 px-5 text-center items-center",children:(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:r("common.copyright",{year:new Date().getFullYear(),storeName:e.name})})})}),(0,s.jsx)("div",{className:"fixed bottom-6 left-6 z-50",children:(0,s.jsxs)("a",{href:"https://www.whatsou.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center h-12 px-6 gap-2 rounded-full bg-[#25D366] text-white shadow-lg hover:bg-[#20bd5a] transition-transform hover:scale-105 active:scale-95",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-bold text-sm",children:r("common.powered_by")})]})}),(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,s.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center justify-center h-14 w-auto px-4 sm:px-6 gap-3 rounded-full bg-[#19e65e] text-[#111813] shadow-lg hover:bg-[#19e65e]/90 transition-transform hover:scale-105 active:scale-95",children:[(0,s.jsx)(m.Z,{className:"w-6 h-6"}),ec>0&&(0,s.jsx)("span",{className:"font-bold",children:r("storefront.items_count",{count:ec})})]})}),(0,s.jsx)(ProductFilters,{isOpen:J,onClose:()=>X(!1),maxPrice:ea,minPrice:el,priceRange:en,onPriceChange:ei,attributes:es,selectedAttributes:K,onAttributeChange:(e,t)=>{ee(r=>{let s=r[e]||[],a=s.includes(t)?s.filter(e=>e!==t):[...s,t];if(0===a.length){let{[e]:t,...s}=r;return s}return{...r,[e]:a}})},onClearFilters:clearAllFilters}),(0,s.jsx)(y.Z,{open:W,onClose:()=>B(!1),store:e})]})}},62783:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>StorefrontPage,dynamic:()=>f,generateMetadata:()=>generateMetadata});var s=r(25620),a=r(13574),l=r(64074);let n=(0,l.createProxy)(String.raw`D:\whatsou\apps\web\components\storefront\StorefrontClient.tsx`),{__esModule:i,$$typeof:o}=n,c=n.default,d=(0,l.createProxy)(String.raw`D:\whatsou\apps\web\components\storefront\StorePausedPage.tsx`),{__esModule:u,$$typeof:x}=d,m=d.default;var h=r(613),g=r(19717);let f="force-dynamic";async function generateMetadata({params:e}){let t=(0,g.t)(),{data:r}=await t.from("stores").select("name, description, logo_url").eq("slug",e.slug).maybeSingle();if(!r)return{title:"Store Not Found"};let s=`https://whatsou.com/${e.slug}`;return{title:`${r.name} | Whatsou`,description:r.description,alternates:{canonical:s},icons:{icon:r.logo_url||"/favicon.ico",apple:r.logo_url||"/apple-icon.png"},openGraph:{title:r.name,description:r.description||void 0,images:r.logo_url?[{url:r.logo_url}]:[]}}}let p=(0,h.unstable_cache)(async e=>{let t=(0,g.t)(),{data:r}=await t.from("subscriptions").select("status, storefront_paused_at").eq("user_id",e).maybeSingle();if(!r)return{isPaused:!1};if(r.storefront_paused_at){let e=new Date(r.storefront_paused_at);if(new Date>e)return{isPaused:!0}}return{isPaused:!1}},["subscription-status"],{revalidate:300});async function getStoreData(e){let t=(0,g.t)(),{data:r}=await t.from("stores").select("*").eq("slug",e).maybeSingle();if(!r)return null;let{data:s}=await t.from("products").select("*, images:product_images(*)").eq("store_id",r.id).order("created_at",{ascending:!1});if(s&&s.length>0){let e=s.map(e=>e.id),{data:a}=await t.from("product_variants").select("*").in("product_id",e),l=s.map(e=>({...e,variants:a?.filter(t=>t.product_id===e.id)||[]}));return{store:r,products:l}}return{store:r,products:s||[]}}async function StorefrontPage({params:e}){let t=await getStoreData(e.slug);t||(0,a.notFound)();let r=await p(t.store.user_id);if(r.isPaused)return(0,s.jsx)(m,{whatsappNumber:t.store.whatsapp_number,storeName:t.store.name});let l={"@context":"https://schema.org","@type":"Store",name:t.store.name,image:t.store.logo_url,description:t.store.description,url:`https://whatsou.com/${e.slug}`,sameAs:[t.store.facebook_url,t.store.instagram_url,t.store.twitter_url,t.store.tiktok_url,t.store.location_url].filter(Boolean)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(l)}}),(0,s.jsx)(c,{store:t.store,products:t.products})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[771,3926,497,7124,4304,6819,9328,4288,1980,265,3665,129,6762,7182,1890,8721,9626,2787,9717,3517,8444,4378,9406,8410,2428,6963],()=>__webpack_exec__(15849));module.exports=r})();