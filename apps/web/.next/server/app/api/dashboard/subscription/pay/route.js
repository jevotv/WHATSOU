"use strict";(()=>{var e={};e.id=8576,e.ids=[8576],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},68747:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>b,originalPathname:()=>h,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>y});var r={};a.r(r),a.d(r,{OPTIONS:()=>OPTIONS,POST:()=>POST}),a(44388);var o=a(15789),s=a(74902),n=a(70914),i=a(70106);async function OPTIONS(){return n.Z.json({},{status:200})}async function POST(e){return(0,i.Q)(e,async(e,t)=>{try{let a=await e.json(),r=a.paymentMethod||"card",o=await fetch("https://bwezqrjwdrobztgeutji.supabase.co/functions/v1/paymob-create-intention",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.SUPABASE_SERVICE_ROLE_KEY}`},body:JSON.stringify({user_id:t.userId,payment_method:r})});if(!o.ok){let e=await o.json();return n.Z.json({error:e.error||"Payment initiation failed"},{status:o.status})}let s=await o.json();return n.Z.json({success:!0,...s})}catch(e){return console.error("Payment initiation error:",e),n.Z.json({error:e.message||"Payment initiation failed"},{status:500})}})}let u=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/dashboard/subscription/pay/route",pathname:"/api/dashboard/subscription/pay",filename:"route",bundlePath:"app/api/dashboard/subscription/pay/route"},resolvedPagePath:"D:\\whatsou\\apps\\web\\app\\api\\dashboard\\subscription\\pay\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:c,headerHooks:b,staticGenerationBailout:y}=u,h="/api/dashboard/subscription/pay/route"}};var t=require("../../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[771,1861,2605,914,5250,106],()=>__webpack_exec__(68747));module.exports=a})();