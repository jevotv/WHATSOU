"use strict";(()=>{var e={};e.id=3521,e.ids=[3521],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},17157:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>l,originalPathname:()=>m,requestAsyncStorage:()=>u,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>y});var a={};r.r(a),r.d(a,{POST:()=>POST}),r(44388);var o=r(15789),i=r(74902),n=r(70914),s=r(70106);async function POST(e){return(0,s.Q)(e,async(e,t)=>{let r=await e.json(),a=r.paymentMethod||"card";try{let e=await fetch("https://bwezqrjwdrobztgeutji.supabase.co/functions/v1/paymob-create-intention",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.SUPABASE_SERVICE_ROLE_KEY}`},body:JSON.stringify({user_id:t.userId,payment_method:a})});if(!e.ok){let t=await e.json();return n.Z.json({error:t.error||"Payment initiation failed"},{status:500})}let r=await e.json();return n.Z.json({success:!0,...r})}catch(e){return console.error("Payment initiation error:",e),n.Z.json({error:e.message||"Payment initiation failed"},{status:500})}})}let p=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/subscription/pay/route",pathname:"/api/subscription/pay",filename:"route",bundlePath:"app/api/subscription/pay/route"},resolvedPagePath:"D:\\whatsou\\apps\\web\\app\\api\\subscription\\pay\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:c,serverHooks:d,headerHooks:l,staticGenerationBailout:y}=p,m="/api/subscription/pay/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[771,1861,2605,914,5250,106],()=>__webpack_exec__(17157));module.exports=r})();