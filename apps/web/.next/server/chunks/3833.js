"use strict";exports.id=3833,exports.ids=[3833],exports.modules={98952:(e,t,a)=>{var i=a(52065);t.oK=void 0,function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(t.oK||(t.oK={})),t.GW=void 0,function(e){e.Rear="REAR",e.Front="FRONT"}(t.GW||(t.GW={})),t.dk=void 0,function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(t.dk||(t.dk={}));let CameraWeb=class CameraWeb extends i.WebPlugin{async getPhoto(e){return new Promise(async(a,i)=>{if(e.webUseInput||e.source===t.oK.Photos)this.fileInputExperience(e,a,i);else if(e.source===t.oK.Prompt){let t=document.querySelector("pwa-action-sheet");t||(t=document.createElement("pwa-action-sheet"),document.body.appendChild(t)),t.header=e.promptLabelHeader||"Photo",t.cancelable=!1,t.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],t.addEventListener("onSelection",async t=>{let r=t.detail;0===r?this.fileInputExperience(e,a,i):this.cameraExperience(e,a,i)})}else this.cameraExperience(e,a,i)})}async pickImages(e){return new Promise(async(e,t)=>{this.multipleFileInputExperience(e,t)})}async cameraExperience(e,a,r){if(customElements.get("pwa-camera-modal")){let n=document.createElement("pwa-camera-modal");n.facingMode=e.direction===t.GW.Front?"user":"environment",document.body.appendChild(n);try{await n.componentOnReady(),n.addEventListener("onPhoto",async t=>{let o=t.detail;null===o?r(new i.CapacitorException("User cancelled photos app")):o instanceof Error?r(o):a(await this._getCameraPhoto(o,e)),n.dismiss(),document.body.removeChild(n)}),n.present()}catch(t){this.fileInputExperience(e,a,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,a,r)}fileInputExperience(e,a,r){let n=document.querySelector("#_capacitor-camera-input"),cleanup=()=>{var e;null===(e=n.parentNode)||void 0===e||e.removeChild(n)};n||((n=document.createElement("input")).id="_capacitor-camera-input",n.type="file",n.hidden=!0,document.body.appendChild(n),n.addEventListener("change",t=>{let i=n.files[0],r="jpeg";if("image/png"===i.type?r="png":"image/gif"===i.type&&(r="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){let t=new FileReader;t.addEventListener("load",()=>{if("dataUrl"===e.resultType)a({dataUrl:t.result,format:r});else if("base64"===e.resultType){let e=t.result.split(",")[1];a({base64String:e,format:r})}cleanup()}),t.readAsDataURL(i)}else a({webPath:URL.createObjectURL(i),format:r}),cleanup()}),n.addEventListener("cancel",e=>{r(new i.CapacitorException("User cancelled photos app")),cleanup()})),n.accept="image/*",n.capture=!0,e.source===t.oK.Photos||e.source===t.oK.Prompt?n.removeAttribute("capture"):e.direction===t.GW.Front?n.capture="user":e.direction===t.GW.Rear&&(n.capture="environment"),n.click()}multipleFileInputExperience(e,t){let a=document.querySelector("#_capacitor-camera-input-multiple"),cleanup=()=>{var e;null===(e=a.parentNode)||void 0===e||e.removeChild(a)};a||((a=document.createElement("input")).id="_capacitor-camera-input-multiple",a.type="file",a.hidden=!0,a.multiple=!0,document.body.appendChild(a),a.addEventListener("change",t=>{let i=[];for(let e=0;e<a.files.length;e++){let t=a.files[e],r="jpeg";"image/png"===t.type?r="png":"image/gif"===t.type&&(r="gif"),i.push({webPath:URL.createObjectURL(t),format:r})}e({photos:i}),cleanup()}),a.addEventListener("cancel",e=>{t(new i.CapacitorException("User cancelled photos app")),cleanup()})),a.accept="image/*",a.click()}_getCameraPhoto(e,t){return new Promise((a,i)=>{let r=new FileReader,n=e.type.split("/")[1];"uri"===t.resultType?a({webPath:URL.createObjectURL(e),format:n,saved:!1}):(r.readAsDataURL(e),r.onloadend=()=>{let e=r.result;"dataUrl"===t.resultType?a({dataUrl:e,format:n,saved:!1}):a({base64String:e.split(",")[1],format:n,saved:!1})},r.onerror=e=>{i(e)})})}async checkPermissions(){if("undefined"==typeof navigator||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{let e=await window.navigator.permissions.query({name:"camera"});return{camera:e.state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}};new CameraWeb;let r=i.registerPlugin("Camera",{web:()=>new CameraWeb});t.V1=r},68124:(e,t,a)=>{var i=a(52065);t.y$=void 0,function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(t.y$||(t.y$={})),t.k$=void 0,function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(t.k$||(t.k$={}));let r=i.registerPlugin("Haptics",{web:()=>Promise.resolve().then(function(){return n}).then(e=>new e.HapticsWeb)});let HapticsWeb=class HapticsWeb extends i.WebPlugin{constructor(){super(...arguments),this.selectionStarted=!1}async impact(e){let t=this.patternForImpact(null==e?void 0:e.style);this.vibrateWithPattern(t)}async notification(e){let t=this.patternForNotification(null==e?void 0:e.type);this.vibrateWithPattern(t)}async vibrate(e){let t=(null==e?void 0:e.duration)||300;this.vibrateWithPattern([t])}async selectionStart(){this.selectionStarted=!0}async selectionChanged(){this.selectionStarted&&this.vibrateWithPattern([70])}async selectionEnd(){this.selectionStarted=!1}patternForImpact(e=t.y$.Heavy){return e===t.y$.Medium?[43]:e===t.y$.Light?[20]:[61]}patternForNotification(e=t.k$.Success){return e===t.k$.Warning?[30,40,30,50,60]:e===t.k$.Error?[27,45,50]:[35,65,21]}vibrateWithPattern(e){if(navigator.vibrate)navigator.vibrate(e);else throw this.unavailable("Browser does not support the vibrate API")}};var n=Object.freeze({__proto__:null,HapticsWeb:HapticsWeb});t.ej=r}};