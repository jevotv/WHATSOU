exports.id=2855,exports.ids=[2855],exports.modules={30875:(e,s,a)=>{Promise.resolve().then(a.bind(a,75381))},31140:(e,s,a)=>{Promise.resolve().then(a.bind(a,13780))},75381:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>DashboardLayout});var t=a(84196),r=a(78726),l=a(74555),n=a(65714),i=a(78611);function AuthGuard({children:e}){let{user:s,loading:a}=(0,n.useAuth)(),d=(0,l.useRouter)();return((0,r.useEffect)(()=>{a||s||d.push("/login")},[s,a,d]),a)?(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:(0,t.jsx)(i.Z,{className:"h-8 w-8 animate-spin text-primary"})}):s?(0,t.jsx)(t.Fragment,{children:e}):null}var d=a(24288),o=a.n(d),c=a(78646),x=a(66447),h=a(77560),m=a(97487);function BottomNav(){let e=(0,l.usePathname)(),{t:s}=(0,m.Z)();return(0,t.jsx)("div",{className:"fixed bottom-[calc(1.5rem+var(--sab))] left-1/2 transform -translate-x-1/2 z-50 w-full px-4 sm:w-auto",children:(0,t.jsxs)("nav",{className:"flex items-center justify-center gap-2 px-2 py-2 bg-white/80 backdrop-blur-lg border border-white/20 shadow-2xl rounded-full mx-auto max-w-fit",children:[(0,t.jsxs)(o(),{href:"/dashboard/orders",className:`flex flex-col items-center justify-center min-w-[64px] px-4 h-14 rounded-full transition-all duration-300 ${"/dashboard/orders"===e?"bg-[#008069] text-white shadow-lg translate-y-[-4px]":"text-gray-500 hover:text-[#111813] hover:bg-gray-100"}`,children:[(0,t.jsx)(c.Z,{className:`w-5 h-5 ${"/dashboard/orders"===e?"fill-current":""}`}),(0,t.jsx)("span",{className:"text-[10px] font-bold mt-1 text-center leading-3 whitespace-nowrap",children:s("dashboard.nav_orders")||"Orders"})]}),(0,t.jsxs)(o(),{href:"/dashboard",className:`flex flex-col items-center justify-center min-w-[64px] px-4 h-14 rounded-full transition-all duration-300 ${"/dashboard"===e?"bg-[#008069] text-white shadow-lg translate-y-[-4px]":"text-gray-500 hover:text-[#111813] hover:bg-gray-100"}`,children:[(0,t.jsx)(x.Z,{className:`w-5 h-5 ${"/dashboard"===e?"fill-current":""}`}),(0,t.jsx)("span",{className:"text-[10px] font-bold mt-1 text-center leading-3 whitespace-nowrap",children:s("dashboard.nav_home")||"Home"})]}),(0,t.jsxs)(o(),{href:"/dashboard/customers",className:`flex flex-col items-center justify-center min-w-[64px] px-4 h-14 rounded-full transition-all duration-300 ${"/dashboard/customers"===e?"bg-[#008069] text-white shadow-lg translate-y-[-4px]":"text-gray-500 hover:text-[#111813] hover:bg-gray-100"}`,children:[(0,t.jsx)(h.Z,{className:`w-5 h-5 ${"/dashboard/customers"===e?"fill-current":""}`}),(0,t.jsx)("span",{className:"text-[10px] font-bold mt-1 text-center leading-3 whitespace-nowrap",children:s("dashboard.nav_customers")||"Customers"})]})]})})}var u=a(19328),p=a.n(u),b=a(28214),f=a(14748),g=a(2344),w=a(91657),j=a(32583),N=a(31155),v=a(64626),y=a(67782),_=a(88568),k=a(16052),C=a(51779),S=a(2420),Z=a(79892),$=a(77952),P=a(40689),E=a(25413),A=a(25584),D=a(52065),L=a(30636);function DashboardHeader({store:e}){let[s,a]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),[x,h]=(0,r.useState)(null),[u,z]=(0,r.useState)(!1),{signOut:q}=(0,n.useAuth)(),M=(0,l.useRouter)(),{toast:R}=(0,E.pm)(),{t:F,direction:X,language:O,setLanguage:U}=(0,m.Z)();(0,r.useEffect)(()=>{if(e){if(e.qr_code)d(e.qr_code);else{let s=`${window.location.origin}/go/${e.id}`;P.toDataURL(s).then(d).catch(console.error)}}let s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;s&&!a&&h("ios");let handler=e=>{e.preventDefault(),c(e),h("native")};return window.addEventListener("beforeinstallprompt",handler),()=>{window.removeEventListener("beforeinstallprompt",handler)}},[e]);let handleCopyStoreLink=()=>{if(!e)return;let s=`${window.location.origin}/${e.slug}`;navigator.clipboard.writeText(s),R({title:F("dashboard.link_copied"),description:F("dashboard.link_copied_desc")})};return(0,t.jsx)("header",{className:"bg-[#008069] text-white sticky top-0 z-40 shadow-lg pt-[var(--sat)]",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0 pr-4",children:[(0,t.jsx)(p(),{src:"/logo.png",alt:"Logo",width:32,height:32,className:"w-8 h-8 shrink-0 object-contain brightness-0 invert"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h1",{className:"text-xl font-bold truncate",children:e?.name}),(0,t.jsx)("p",{className:"text-xs text-green-100 hidden sm:block",children:F("dashboard.whatsapp_commerce")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0",children:[(0,t.jsxs)(Z.h_,{children:[(0,t.jsx)(Z.$F,{asChild:!0,children:(0,t.jsxs)(S.z,{variant:"ghost",className:"text-white hover:bg-[#017561] rounded-2xl px-2 sm:px-4 h-9 sm:h-10",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4 ml-0 md:ml-0"}),(0,t.jsx)("span",{className:"hidden md:inline ml-2",children:F("dashboard.share")})]})}),(0,t.jsxs)(Z.AW,{align:"end",className:"w-48",children:[(0,t.jsxs)(Z.Xi,{onClick:handleCopyStoreLink,className:"cursor-pointer",children:[(0,t.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),F("dashboard.copy_link")]}),(0,t.jsxs)(Z.Xi,{onClick:async()=>{if(!e)return;let s=`${window.location.origin}/${e.slug}`;if(D.Capacitor.isNativePlatform())try{await L.m.share({title:e.name,text:e.description||"",url:s,dialogTitle:F("dashboard.share_store")});return}catch(e){console.error("Share failed",e)}navigator.share?navigator.share({title:e.name,text:e.description||"",url:s}).catch(console.error):handleCopyStoreLink()},className:"cursor-pointer",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),F("dashboard.share_link")]}),(0,t.jsxs)(Z.Xi,{onClick:()=>a(!0),className:"cursor-pointer",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),F("dashboard.share_qr")]})]})]}),(0,t.jsxs)(Z.h_,{children:[(0,t.jsx)(Z.$F,{asChild:!0,children:(0,t.jsx)(S.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-[#017561] rounded-2xl w-9 h-9 sm:w-10 sm:h-10",children:(0,t.jsx)(w.Z,{className:"w-5 h-5"})})}),(0,t.jsxs)(Z.AW,{align:"end",className:"w-48",children:[(0,t.jsxs)(Z.Xi,{onClick:()=>U("en"===O?"ar":"en"),className:"cursor-pointer",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"en"===O?"العربية":"English"]}),(0,t.jsxs)(Z.Xi,{onClick:()=>M.push("/dashboard/settings"),className:"cursor-pointer",children:[(0,t.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),F("dashboard.settings")]}),(0,t.jsxs)(Z.Xi,{onClick:async()=>{let e="201000499431";if(D.Capacitor.isNativePlatform())try{let s=await A.h.canOpenUrl({url:"whatsapp://"});if(s.value){await A.h.openUrl({url:`whatsapp://send?phone=${e}`});return}}catch(e){console.error("AppLauncher error",e)}window.open(`https://wa.me/${e}`,"_blank")},className:"cursor-pointer",children:[(0,t.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),F("dashboard.chat_support")]}),(0,t.jsxs)(Z.Xi,{onClick:()=>{"native"===x&&o?(o.prompt(),o.userChoice.then(e=>{"accepted"===e.outcome&&R({title:F("pwa.install_title"),description:F("pwa.install_subtitle")}),c(null)})):"ios"===x?z(!0):R({title:F("pwa.install_title"),description:F("pwa.not_install_subtitle")})},className:"cursor-pointer",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),F("dashboard.install_app")]}),(0,t.jsxs)(Z.Xi,{onClick:q,className:"cursor-pointer text-red-600 focus:text-red-600",children:[(0,t.jsx)(_.Z,{className:"w-4 h-4 mr-2"}),F("dashboard.logout")]})]})]}),(0,t.jsx)($.Vq,{open:s,onOpenChange:a,children:(0,t.jsxs)($.cZ,{className:"sm:max-w-md",children:[(0,t.jsx)($.fK,{children:(0,t.jsx)($.$N,{className:"text-center",children:F("dashboard.share_qr")})}),(0,t.jsx)("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"relative w-64 h-64 border-4 border-[#008069] rounded-xl overflow-hidden p-2 bg-white",children:(0,t.jsx)("img",{src:i,alt:"Store QR Code",className:"w-full h-full object-contain"})}),(0,t.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,t.jsxs)(S.z,{className:"flex-1 bg-[#008069] hover:bg-[#017561]",onClick:async()=>{try{let s=await fetch(i),a=await s.blob(),t=new File([a],`${e?.slug}-qr.png`,{type:"image/png"});if(navigator.share)await navigator.share({files:[t],title:e?.name||"Store QR Code",text:e?.name});else{let s=document.createElement("a");s.href=i,s.download=`${e?.slug}-qr.png`,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}catch(e){console.error("Error sharing:",e)}},children:[(0,t.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),F("dashboard.share")]}),(0,t.jsxs)(S.z,{variant:"outline",className:"flex-1",onClick:()=>{let s=document.createElement("a");s.href=i,s.download=`${e?.slug}-qr.png`,document.body.appendChild(s),s.click(),document.body.removeChild(s)},children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),F("common.download")]})]})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#008069] mx-auto mb-4"}),(0,t.jsx)("p",{children:F("common.loading")})]})})]})}),(0,t.jsx)($.Vq,{open:u,onOpenChange:z,children:(0,t.jsxs)($.cZ,{className:"max-w-xs sm:max-w-sm rounded-2xl",dir:X,children:[(0,t.jsx)($.fK,{children:(0,t.jsx)($.$N,{className:"text-center",children:F("pwa.ios_guide_title")})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0",children:(0,t.jsx)(b.Z,{className:"w-6 h-6 text-blue-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm",children:F("pwa.step_1_label")}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:F("pwa.step_1_text")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0",children:(0,t.jsx)(C.Z,{className:"w-6 h-6 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm",children:F("pwa.step_2_label")}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:F("pwa.step_2_text")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0 px-4",children:(0,t.jsx)("span",{className:"font-bold text-blue-600",children:"Add"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm",children:F("pwa.step_3_label")}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:F("pwa.step_3_text")})]})]})]}),(0,t.jsx)(S.z,{className:"w-full rounded-xl",onClick:()=>z(!1),children:F("pwa.got_it")})]})})]})]})})})}var z=a(64463);function PwaInstallBanner(){let[e,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(null),[d,o]=(0,r.useState)(!1),{t:c,direction:x}=(0,m.Z)();return((0,r.useEffect)(()=>{let e=localStorage.getItem("pwa_banner_dismissed");if(e)return;let a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;a&&!t&&(i("ios"),s(!0));let handler=e=>{e.preventDefault(),l(e),i("native"),s(!0)};return window.addEventListener("beforeinstallprompt",handler),()=>{window.removeEventListener("beforeinstallprompt",handler)}},[]),e)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50 bg-[#008069] text-white p-3 shadow-md flex items-center justify-between gap-4 animate-in slide-in-from-top duration-300",dir:x,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-white p-1 rounded-lg shrink-0",children:(0,t.jsx)("img",{src:"/logo.png",alt:"App Icon",className:"w-8 h-8 object-contain"})}),(0,t.jsx)("div",{className:"text-sm font-medium leading-tight",children:(0,t.jsxs)("div",{className:"text-sm font-medium leading-tight",children:[(0,t.jsx)("div",{children:c("pwa.install_title")}),(0,t.jsx)("div",{className:"text-xs opacity-90",children:c("pwa.install_subtitle")})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(S.z,{size:"sm",variant:"secondary",className:"h-8 rounded-full bg-white text-[#008069] hover:bg-gray-100 font-bold",onClick:()=>{"native"===n&&a?(a.prompt(),a.userChoice.then(e=>{"accepted"===e.outcome&&console.log("User accepted the install prompt"),l(null),s(!1)})):"ios"===n&&o(!0)},children:c("ios"===n?"pwa.guide_button":"pwa.install_button")}),(0,t.jsx)("button",{onClick:()=>{s(!1),localStorage.setItem("pwa_banner_dismissed","true")},className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(z.Z,{className:"w-5 h-5"})})]})]}),(0,t.jsx)($.Vq,{open:d,onOpenChange:o,children:(0,t.jsxs)($.cZ,{className:"max-w-xs sm:max-w-sm rounded-2xl",dir:x,children:[(0,t.jsx)($.fK,{children:(0,t.jsx)($.$N,{className:"text-center",children:c("pwa.ios_guide_title")})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0",children:(0,t.jsx)(b.Z,{className:"w-6 h-6 text-blue-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm",children:c("pwa.step_1_label")}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:c("pwa.step_1_text")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0",children:(0,t.jsx)(C.Z,{className:"w-6 h-6 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm",children:c("pwa.step_2_label")}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:c("pwa.step_2_text")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0 px-4",children:(0,t.jsx)("span",{className:"font-bold text-blue-600",children:"Add"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm",children:c("pwa.step_3_label")}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:c("pwa.step_3_text")})]})]})]}),(0,t.jsx)(S.z,{className:"w-full rounded-xl",onClick:()=>o(!1),children:c("pwa.got_it")})]})})]}):null}var q=a(57700),M=a(18590),R=a(34105);function SubscriptionCountdown(){let{language:e}=(0,m.Z)(),{subscription:s,loading:a}=(0,q.m)();if(a||!s)return null;if("inactive"===s.status)return(0,t.jsx)(o(),{href:"/dashboard/subscription",className:"block",children:(0,t.jsxs)("div",{className:"mx-4 mt-2 bg-amber-100 border-2 border-amber-500 rounded-xl p-4 flex items-center gap-3 animate-pulse",children:[(0,t.jsx)(M.Z,{className:"w-8 h-8 text-amber-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-amber-700 font-bold",children:"ar"===e?"فعّل اشتراكك":"Activate Your Subscription"}),(0,t.jsx)("p",{className:"text-amber-600 text-sm",children:"ar"===e?"ادفع الآن للوصول الكامل لمتجرك":"Pay now to unlock full access to your store"})]}),(0,t.jsx)("span",{className:"bg-amber-600 text-white px-4 py-2 rounded-lg text-sm font-bold",children:"ar"===e?"ادفع الآن":"Pay Now"})]})});let{status:r,daysRemaining:l,isReadOnly:n}=s,i="text-green-600",d="bg-green-500";return null!==l&&(l<=3?(i="text-red-600",d="bg-red-500"):l<=7&&(i="text-yellow-600",d="bg-yellow-500")),("grace"===r||"expired"===r)&&(i="grace"===r?"text-yellow-600":"text-red-600",d="grace"===r?"bg-yellow-500":"bg-red-500"),(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsxs)("div",{className:"mx-4 mt-2 bg-red-100 border-2 border-red-500 rounded-xl p-3 flex items-center gap-3",children:[(0,t.jsx)(R.Z,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-red-700 font-bold text-sm",children:"ar"===e?"وضع القراءة فقط":"Read-Only Mode"}),(0,t.jsx)("p",{className:"text-red-600 text-xs",children:"ar"===e?"اشتراكك منتهي. لا يمكنك تعديل المنتجات أو الإعدادات حتى تجدد.":"Your subscription has expired. You cannot edit products or settings until you renew."})]}),(0,t.jsx)(o(),{href:"/dashboard/subscription",className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-red-700",children:"ar"===e?"جدد الآن":"Renew Now"})]}),(0,t.jsx)(o(),{href:"/dashboard/subscription",className:"block",children:(0,t.jsxs)("div",{className:`mx-4 mt-2 rounded-xl overflow-hidden shadow-sm ${"grace"===r||"expired"===r?"animate-pulse":""}`,children:[(0,t.jsx)("div",{className:"bg-gray-200 h-2",children:(0,t.jsx)("div",{className:`h-full ${d} transition-all duration-500`,style:{width:`${null!==l?Math.max(0,Math.min(100,l/30*100)):0}%`}})}),(0,t.jsxs)("div",{className:"bg-white px-4 py-2 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(M.Z,{className:`w-5 h-5 ${i}`}),(0,t.jsxs)("span",{className:`font-medium ${i}`,children:["active"===r&&null!==l&&("ar"===e?`متبقي ${l} يوم`:`${l} days left`),"grace"===r&&("ar"===e?"فترة سماح - جدد الآن":"Grace period - Renew now"),"expired"===r&&("ar"===e?"اشتراك منتهي":"Subscription expired")]})]}),("active"!==r||null!==l&&l<=7)&&(0,t.jsx)("span",{className:`text-sm ${i} font-bold`,children:"ar"===e?"جدد ←":"Renew →"})]})]})})]})}var F=a(69615),X=a(69211);function DashboardLayout({children:e}){let[s,a]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),{user:x,loading:h}=(0,n.useAuth)(),{direction:u}=(0,m.Z)(),p=(0,l.useRouter)(),b=(0,r.useCallback)(async()=>{if(!h){if(!x){console.log("DashboardLayout: User is null after auth loaded"),d(!1);return}try{let e=await X.h.get("/api/dashboard/store");if(e.error){c({error:e.error});return}if(!e.store){p.push("/onboarding");return}a(e.store)}catch(e){if(console.error("Error loading store:",e),e.message?.includes("Unauthorized")){X.h.clearToken(),p.push("/login");return}c({error:"Exception",details:e.message})}finally{d(!1)}}},[x,h,p]),f=(0,r.useCallback)(async()=>{try{let e=await X.h.get("/api/dashboard/store");e.store&&a(e.store)}catch(e){console.error("Error refetching store:",e)}},[]);return((0,r.useEffect)(()=>{b()},[b]),i)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#f0f2f5]",children:o?(0,t.jsxs)("div",{className:"bg-white p-8 rounded shadow max-w-lg",children:[(0,t.jsx)("h2",{className:"text-red-600 text-xl font-bold mb-4",children:"Debug Mode: Access Denied"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify(o,null,2)}),(0,t.jsx)("p",{className:"mt-4 text-sm text-gray-500",children:"Please send a screenshot of this to support."}),(0,t.jsx)("button",{onClick:()=>p.push("/login"),className:"mt-4 bg-gray-200 px-4 py-2 rounded",children:"Go to Login"})]}):(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#008069]"})}):(0,t.jsx)(AuthGuard,{children:(0,t.jsx)(F.g,{value:{store:s,loading:i,refetchStore:f},children:(0,t.jsx)(q.q,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-[#f0f2f5] overflow-x-hidden",dir:u,children:[(0,t.jsx)(PwaInstallBanner,{}),(0,t.jsx)(DashboardHeader,{store:s}),(0,t.jsx)(SubscriptionCountdown,{}),(0,t.jsx)("div",{className:"pb-24",children:e}),(0,t.jsx)(BottomNav,{})]})})})})}},13780:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>DashboardNotFound});var t=a(84196),r=a(24288),l=a.n(r),n=a(97487),i=a(24850),d=a(66447);function DashboardNotFound(){let{t:e,direction:s}=(0,n.Z)();return(0,t.jsxs)("div",{className:"min-h-screen bg-[#111b21] flex flex-col items-center justify-center p-4",dir:s,children:[(0,t.jsxs)("div",{className:"bg-[#202c33] rounded-2xl p-8 max-w-md w-full text-center shadow-xl",children:[(0,t.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-[#00a884]/10 flex items-center justify-center",children:(0,t.jsx)(i.Z,{className:"w-12 h-12 text-[#00a884]"})}),(0,t.jsx)("div",{className:"inline-block px-4 py-1 rounded-full bg-[#00a884]/20 text-[#00a884] text-sm font-medium mb-4",children:e("error.error_code")}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-3",children:e("error.page_not_found")}),(0,t.jsx)("p",{className:"text-[#8696a0] mb-8",children:e("error.page_not_found_desc")}),(0,t.jsxs)(l(),{href:"/dashboard",className:"inline-flex items-center justify-center gap-2 w-full h-12 bg-[#00a884] hover:bg-[#00a884]/90 text-white rounded-xl font-medium transition-colors",children:[(0,t.jsx)(d.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:e("error.back_to_dashboard")})]})]}),(0,t.jsxs)("div",{className:"mt-8 flex items-center gap-2 text-[#8696a0]",children:[(0,t.jsx)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),(0,t.jsx)("span",{className:"text-sm",children:"WhatSou Dashboard"})]})]})}},69615:(e,s,a)=>{"use strict";a.d(s,{g:()=>StoreProvider,o:()=>useStore});var t=a(84196),r=a(78726);let l=(0,r.createContext)({store:null,loading:!0,refetchStore:async()=>{}});function StoreProvider({children:e,value:s}){return(0,t.jsx)(l.Provider,{value:s,children:e})}let useStore=()=>(0,r.useContext)(l)},57700:(e,s,a)=>{"use strict";a.d(s,{m:()=>useSubscription,q:()=>SubscriptionProvider});var t=a(84196),r=a(78726),l=a(69211);let n=(0,r.createContext)({subscription:null,loading:!0,refresh:async()=>{}});function SubscriptionProvider({children:e}){let[s,a]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0),o=(0,r.useCallback)(async()=>{try{if(!l.h.isAuthenticated()){d(!1);return}let e=await l.h.get("/api/subscription/status");a(e)}catch(e){console.error("Error fetching subscription status:",e)}finally{d(!1)}},[]);return(0,r.useEffect)(()=>{o()},[o]),(0,t.jsx)(n.Provider,{value:{subscription:s,loading:i,refresh:o},children:e})}function useSubscription(){let e=(0,r.useContext)(n);if(!e)throw Error("useSubscription must be used within a SubscriptionProvider");return e}},97913:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var t=a(64074);let r=(0,t.createProxy)(String.raw`D:\whatsou\apps\web\app\dashboard\layout.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,d=i},47273:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var t=a(64074);let r=(0,t.createProxy)(String.raw`D:\whatsou\apps\web\app\dashboard\not-found.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,d=i}};