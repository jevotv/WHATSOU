(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9430],{8017:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(9213);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8793:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(9213);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},9576:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(9213);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9602:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(9213);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},8452:function(e,t,r){Promise.resolve().then(r.bind(r,1089))},1089:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return MockCustomersPage}});var s=r(8708),a=r(5444),o=r(4678),n=r(8017),i=r(9576),d=r(9602),c=r(8793),u=r(4896),l=r(6923),m=r(6811);function MockCustomersPage(){let{orders:e,loading:t}=(0,o.useMockDashboard)(),[r,p]=(0,a.useState)([]),[f,h]=(0,a.useState)(""),{t:v,direction:g}=(0,l.Z)();return((0,a.useEffect)(()=>{if(t)return;let r=new Map;null==e||e.forEach(e=>{let t=(0,m.yL)(e.customer_phone);r.has(t)||r.set(t,{name:e.customer_name,phone:e.customer_phone,totalOrders:0,lastOrderDate:e.created_at});let s=r.get(t);s.totalOrders+=1}),p(Array.from(r.values()))},[e,t]),t)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,s.jsx)(n.Z,{className:"w-8 h-8 animate-spin text-gray-400"})}):(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8 pb-32",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold",children:[v("dashboard.nav_customers")||"Customers"," (Demo)"]}),(0,s.jsx)("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm font-medium",children:r.length})]}),(0,s.jsxs)("div",{className:"mb-6 relative",children:[(0,s.jsx)(i.Z,{className:"absolute ".concat("rtl"===g?"right-3":"left-3"," top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4")}),(0,s.jsx)(u.I,{placeholder:v("dashboard.search_customers"),value:f,onChange:e=>h(e.target.value),className:"".concat("rtl"===g?"pr-10":"pl-10"," rounded-xl bg-white")})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.filter(e=>{let t=f.toLowerCase();return e.name.toLowerCase().includes(t)||e.phone.includes(t)}).map((e,t)=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-xl font-bold text-gray-500",children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:(0,s.jsxs)("span",{className:"flex items-center gap-1 bg-green-50 text-green-700 px-2 py-0.5 rounded-full text-xs font-medium",children:[(0,s.jsx)(d.Z,{className:"w-3 h-3"})," ",e.totalOrders," ",v("customers.orders")]})})]})]}),(0,s.jsx)("a",{href:"https://wa.me/".concat((0,m.yL)(e.phone)),target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center w-10 h-10 rounded-full bg-[#25D366] hover:bg-[#20bd5a] text-white transition-colors shadow-sm",title:"Contact on WhatsApp",children:(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]},t)),0===r.length&&(0,s.jsx)("div",{className:"col-span-full text-center py-12 text-gray-500",children:v("customers.no_customers")})]})]})}},4896:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var s=r(8708),a=r(5444),o=r(3883);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input"},2272:function(e,t,r){"use strict";r.d(t,{pm:function(){return useToast}});var s=r(5444);let a=0,o=new Map,addToRemoveQueue=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},reducer=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?addToRemoveQueue(r):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},n=[],i={toasts:[]};function dispatch(e){i=reducer(i,e),n.forEach(e=>{e(i)})}function toast(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:r});return dispatch({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:r,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function useToast(){let[e,t]=s.useState(i);return s.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast,dismiss:e=>dispatch({type:"DISMISS_TOAST",toastId:e})}}},4678:function(e,t,r){"use strict";r.r(t),r.d(t,{MockDashboardProvider:function(){return MockDashboardProvider},useMockDashboard:function(){return useMockDashboard}});var s=r(8708),a=r(5444),o=r(2272);let n=(0,a.createContext)(void 0);function MockDashboardProvider(e){let{children:t,initialStore:r,initialProducts:i,initialOrders:d}=e,[c,u]=(0,a.useState)(r),[l,m]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[h,v]=(0,a.useState)(!0),{toast:g}=(0,o.pm)();return(0,a.useEffect)(()=>{m(i),f(d.map(e=>({...e,delivery_type:e.delivery_type||"delivery",status:e.status||"pending"}))),v(!1)},[i,d]),(0,s.jsx)(n.Provider,{value:{store:c,products:l,orders:p,loading:h,addProduct:e=>{var t,r,s;let a={...e,id:crypto.randomUUID(),created_at:new Date().toISOString(),updated_at:new Date().toISOString(),store_id:c.id,description:e.description||void 0,original_price:e.original_price||void 0,category:e.category||void 0,image_url:e.image_url||void 0,thumbnail_url:e.thumbnail_url||void 0,options:e.options||[],name:e.name,current_price:e.current_price,quantity:null!==(r=e.quantity)&&void 0!==r?r:0,unlimited_stock:null!==(s=e.unlimited_stock)&&void 0!==s&&s},o={...a,variants:(null===(t=e.variants)||void 0===t?void 0:t.map(e=>({...e,id:crypto.randomUUID(),product_id:a.id})))||[]};m(e=>[o,...e]),g({title:"Product added (Demo)",description:"This product exists only in your browser session."})},updateProduct:e=>{m(t=>t.map(t=>{if(t.id===e.id){let r={...t,...e};return e.variants&&(r.variants=e.variants.map(e=>({...e,id:e.id||crypto.randomUUID(),product_id:t.id}))),r}return t})),g({title:"Product updated (Demo)",description:"Changes are local."})},deleteProduct:e=>{m(t=>t.filter(t=>t.id!==e)),g({title:"Product deleted (Demo)",description:"Removed from local session."})},createOrder:e=>{let t={id:crypto.randomUUID(),store_id:c.id,created_at:new Date().toISOString(),customer_name:e.customer_name,customer_phone:e.customer_phone,customer_address:e.customer_address,total_price:e.total_price,order_items:e.order_items||[],delivery_type:e.delivery_type||"delivery",notes:e.notes,status:"pending"};f(e=>[t,...e]),g({title:"Order created (Demo)",description:"Check Orders or Customers page."})},updateStore:e=>{u(t=>t?{...t,...e}:null),g({title:"Store updated (Demo)",description:"Settings saved for this session."})}},children:t})}function useMockDashboard(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useMockDashboard must be used within a MockDashboardProvider");return e}},3883:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn}});var s=r(794),a=r(9654);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},6811:function(e,t,r){"use strict";function standardizePhoneNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"20",r=e.replace(/[^\d+]/g,"");return r.startsWith("+")?r:r.startsWith(t)?"+".concat(r):r.startsWith("0")?"+".concat(t).concat(r.substring(1)):"+".concat(t).concat(r)}r.d(t,{yL:function(){return standardizePhoneNumber}})},6923:function(e,t,r){"use strict";r.d(t,{Z:function(){return s.useLanguage}});var s=r(7855)}},function(e){e.O(0,[7683,7855,912,9619,1744],function(){return e(e.s=8452)}),_N_E=e.O()}]);