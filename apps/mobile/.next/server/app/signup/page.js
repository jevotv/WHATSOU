(()=>{var e={};e.id=4966,e.ids=[4966],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},32583:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(72023);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},26736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var a=r(66965),s=r(74902),n=r(36408),i=r.n(n),o=r(14346),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,70478)),"D:\\whatsou\\apps\\mobile\\app\\signup\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,95357)),"D:\\whatsou\\apps\\mobile\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,31227)),"D:\\whatsou\\apps\\mobile\\app\\not-found.tsx"]}],d=["D:\\whatsou\\apps\\mobile\\app\\signup\\page.tsx"],u="/signup/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},30390:(e,t,r)=>{Promise.resolve().then(r.bind(r,68687))},68687:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>SignupPage});var a=r(84196),s=r(78726),n=r(91514),i=r(24288),o=r.n(i),l=r(32583),c=r(2391),d=r(19886);function SignupPage(){let[e,t]=(0,s.useState)("form"),[r,i]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[y,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!0),{signUp:N}=(0,n.a)(),{t:_,language:I,setLanguage:P,direction:S}=(0,c.Z)(),handleSendOtp=async e=>{if(e.preventDefault(),f(""),u!==h){f("ar"===I?"كلمات المرور غير متطابقة":"Passwords do not match");return}if(u.length<6){f("ar"===I?"كلمة المرور يجب أن تكون 6 أحرف على الأقل":"Password must be at least 6 characters");return}v(!0);try{let e=(0,d.yL)(r),a=await fetch("https://bwezqrjwdrobztgeutji.supabase.co/functions/v1/whatsapp-auth",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3ZXpxcmp3ZHJvYnp0Z2V1dGppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMzg0MDIsImV4cCI6MjA4MTcxNDQwMn0.nsiHXb7EW4KmZqlPy2tZ1-5RTLUsfOMcNa9Wq3xtPeQ"},body:JSON.stringify({action:"send",phone:e})}),s=await a.json();if(!a.ok)throw Error(s.error||"Failed to send OTP");t("otp")}catch(e){f(e.message||"Failed to send verification code")}finally{v(!1)}},handleVerifyAndSignup=async e=>{e.preventDefault(),f(""),v(!0);try{let e=(0,d.yL)(r),t=await fetch("https://bwezqrjwdrobztgeutji.supabase.co/functions/v1/whatsapp-auth",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3ZXpxcmp3ZHJvYnp0Z2V1dGppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMzg0MDIsImV4cCI6MjA4MTcxNDQwMn0.nsiHXb7EW4KmZqlPy2tZ1-5RTLUsfOMcNa9Wq3xtPeQ"},body:JSON.stringify({action:"verify",phone:e,code:x,verify_only:!0})}),a=await t.json();if(!t.ok)throw Error(a.error||"Invalid code");await N(e,u)}catch(e){f(e.message||"Failed to verify")}finally{v(!1)}};return a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-[#f6f8f7] to-[#e8f5e9] px-4",dir:S,children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 relative",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{onClick:()=>P("en"===I?"ar":"en"),className:"p-2 rounded-full hover:bg-gray-100 transition",children:a.jsx(l.Z,{className:"w-5 h-5 text-gray-600"})})}),(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto bg-[#008069] w-16 h-16 rounded-3xl flex items-center justify-center overflow-hidden mb-4",children:a.jsx("div",{className:"text-white font-bold text-2xl",children:"W"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:_("auth.register_title")||"Create Account"}),a.jsx("p",{className:"text-gray-600",children:"form"===e?_("auth.register_subtitle")||"Get started with your store":`${"ar"===I?"أدخل الرمز المرسل إلى":"Enter code sent to"} ${r}`})]}),(0,a.jsxs)("form",{onSubmit:"form"===e?handleSendOtp:handleVerifyAndSignup,className:"space-y-6",children:[b&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:b}),"form"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_("auth.phone_label")||"Phone Number"}),a.jsx("input",{type:"tel",value:r,onChange:e=>i(e.target.value),placeholder:"ar"===I?"01XXXXXXXXX":"Phone Number",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#008069] focus:border-transparent outline-none transition",required:!0,dir:"ltr"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_("auth.password_label")||"Password"}),a.jsx("input",{type:"password",value:u,onChange:e=>p(e.target.value),placeholder:"********",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#008069] focus:border-transparent outline-none transition",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_("auth.confirm_password_label")||"Confirm Password"}),a.jsx("input",{type:"password",value:h,onChange:e=>m(e.target.value),placeholder:"********",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#008069] focus:border-transparent outline-none transition",required:!0})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("input",{type:"checkbox",id:"privacy-agree",checked:j,onChange:e=>w(e.target.checked),className:"mt-1 h-4 w-4 rounded border-gray-300 text-[#008069] focus:ring-[#008069]"}),(0,a.jsxs)("label",{htmlFor:"privacy-agree",className:"text-sm text-gray-600",children:[_("auth.agree_privacy")||"I agree to the"," ",a.jsx(o(),{href:"/privacy",target:"_blank",className:"text-[#008069] hover:underline",children:_("auth.privacy_policy")||"Privacy Policy"})]})]})]}):(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===I?"رمز التحقق":"Verification Code"}),a.jsx("input",{type:"text",value:x,onChange:e=>g(e.target.value),placeholder:"123456",maxLength:6,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#008069] focus:border-transparent outline-none transition text-center text-lg tracking-widest",required:!0,dir:"ltr"})]}),a.jsx("button",{type:"submit",disabled:y||"form"===e&&!j,className:"w-full py-3 px-4 bg-[#008069] hover:bg-[#006d5b] text-white font-bold rounded-lg transition disabled:opacity-50",children:y?"form"===e?"ar"===I?"جاري الإرسال...":"Sending Code...":"ar"===I?"جاري إنشاء الحساب...":"Creating Account...":"form"===e?_("auth.create_account")||"Create Account":"ar"===I?"تحقق وإنشاء حساب":"Verify & Signup"}),"otp"===e&&a.jsx("button",{type:"button",onClick:()=>t("form"),className:"w-full text-sm text-gray-500 hover:text-gray-700 mt-2",children:"ar"===I?"العودة للبيانات":"Back to Details"})]}),a.jsx("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-600",children:[_("auth.has_account")||"Already have an account?"," ",a.jsx(o(),{href:"/login",className:"text-[#008069] font-medium hover:underline",children:_("auth.sign_in_link")||"Sign In"})]})})]})})}},70478:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var a=r(64074);let s=(0,a.createProxy)(String.raw`D:\whatsou\apps\mobile\app\signup\page.tsx`),{__esModule:n,$$typeof:i}=s,o=s.default,l=o}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[3831,130,9886],()=>__webpack_exec__(26736));module.exports=r})();