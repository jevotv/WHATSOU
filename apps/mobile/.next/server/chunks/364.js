exports.id=364,exports.ids=[364],exports.modules={98134:(e,a,s)=>{Promise.resolve().then(s.bind(s,87285))},87285:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>DashboardLayout});var t=s(84196),r=s(78726),l=s(74555),n=s(91514),o=s(78611);function AuthGuard({children:e}){let{user:a,loading:s}=(0,n.a)(),i=(0,l.useRouter)();return((0,r.useEffect)(()=>{s||a||i.push("/login")},[a,s,i]),s)?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:t.jsx(o.Z,{className:"h-8 w-8 animate-spin text-primary"})}):a?t.jsx(t.Fragment,{children:e}):null}var i=s(24288),d=s.n(i),c=s(78646),m=s(66447),x=s(77560),h=s(2391);function BottomNav(){let e=(0,l.usePathname)(),{t:a}=(0,h.Z)();return t.jsx("div",{className:"fixed bottom-[calc(1.5rem+var(--sab))] left-1/2 transform -translate-x-1/2 z-50 w-full px-4 sm:w-auto safe-area-bottom",children:(0,t.jsxs)("nav",{className:"flex items-center justify-center gap-2 px-2 py-2 bg-white/80 backdrop-blur-lg border border-white/20 shadow-2xl rounded-full mx-auto max-w-fit",children:[(0,t.jsxs)(d(),{href:"/dashboard/orders",className:`flex flex-col items-center justify-center min-w-[64px] px-4 h-14 rounded-full transition-all duration-300 ${"/dashboard/orders"===e?"bg-[#008069] text-white shadow-lg translate-y-[-4px]":"text-gray-500 hover:text-[#111813] hover:bg-gray-100"}`,children:[t.jsx(c.Z,{className:`w-5 h-5 ${"/dashboard/orders"===e?"fill-current":""}`}),t.jsx("span",{className:"text-[10px] font-bold mt-1 text-center leading-3 whitespace-nowrap",children:a("dashboard.nav_orders")||"Orders"})]}),(0,t.jsxs)(d(),{href:"/dashboard",className:`flex flex-col items-center justify-center min-w-[64px] px-4 h-14 rounded-full transition-all duration-300 ${"/dashboard"===e?"bg-[#008069] text-white shadow-lg translate-y-[-4px]":"text-gray-500 hover:text-[#111813] hover:bg-gray-100"}`,children:[t.jsx(m.Z,{className:`w-5 h-5 ${"/dashboard"===e?"fill-current":""}`}),t.jsx("span",{className:"text-[10px] font-bold mt-1 text-center leading-3 whitespace-nowrap",children:a("dashboard.nav_home")||"Home"})]}),(0,t.jsxs)(d(),{href:"/dashboard/customers",className:`flex flex-col items-center justify-center min-w-[64px] px-4 h-14 rounded-full transition-all duration-300 ${"/dashboard/customers"===e?"bg-[#008069] text-white shadow-lg translate-y-[-4px]":"text-gray-500 hover:text-[#111813] hover:bg-gray-100"}`,children:[t.jsx(x.Z,{className:`w-5 h-5 ${"/dashboard/customers"===e?"fill-current":""}`}),t.jsx("span",{className:"text-[10px] font-bold mt-1 text-center leading-3 whitespace-nowrap",children:a("dashboard.nav_customers")||"Customers"})]})]})})}var p=s(19328),u=s.n(p),f=s(28214),b=s(14748),w=s(2344),g=s(91657),j=s(32583),N=s(31155),v=s(64626),y=s(67782),k=s(88568),C=s(16052),_=s(51779),S=s(2420),Z=s(39492),$=s(11225),R=s(58406),z=s(83235),P=s(42135);let D=Z.fC,E=Z.xz;Z.ZA,Z.Uv,Z.Tr,Z.Ee;let q=r.forwardRef(({className:e,inset:a,children:s,...r},l)=>(0,t.jsxs)(Z.fF,{ref:l,className:(0,P.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",e),...r,children:[s,t.jsx($.Z,{className:"ml-auto h-4 w-4"})]}));q.displayName=Z.fF.displayName;let L=r.forwardRef(({className:e,...a},s)=>t.jsx(Z.tu,{ref:s,className:(0,P.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));L.displayName=Z.tu.displayName;let V=r.forwardRef(({className:e,sideOffset:a=4,...s},r)=>t.jsx(Z.Uv,{children:t.jsx(Z.VY,{ref:r,sideOffset:a,className:(0,P.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));V.displayName=Z.VY.displayName;let A=r.forwardRef(({className:e,inset:a,...s},r)=>t.jsx(Z.ck,{ref:r,className:(0,P.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",e),...s}));A.displayName=Z.ck.displayName;let F=r.forwardRef(({className:e,children:a,checked:s,...r},l)=>(0,t.jsxs)(Z.oC,{ref:l,className:(0,P.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Z.wU,{children:t.jsx(R.Z,{className:"h-4 w-4"})})}),a]}));F.displayName=Z.oC.displayName;let H=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(Z.Rk,{ref:r,className:(0,P.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Z.wU,{children:t.jsx(z.Z,{className:"h-2 w-2 fill-current"})})}),a]}));H.displayName=Z.Rk.displayName;let O=r.forwardRef(({className:e,inset:a,...s},r)=>t.jsx(Z.__,{ref:r,className:(0,P.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...s}));O.displayName=Z.__.displayName;let U=r.forwardRef(({className:e,...a},s)=>t.jsx(Z.Z0,{ref:s,className:(0,P.cn)("-mx-1 my-1 h-px bg-muted",e),...a}));U.displayName=Z.Z0.displayName;var Y=s(77952),M=s(40689),Q=s(25413),G=s(52065);function DashboardHeader({store:e}){let[a,o]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(null),[x,p]=(0,r.useState)(null),[Z,$]=(0,r.useState)(!1),{signOut:R}=(0,n.a)(),z=(0,l.useRouter)(),{toast:P}=(0,Q.pm)(),{t:q,direction:L,language:F,setLanguage:H}=(0,h.Z)();(0,r.useEffect)(()=>{if(e){if(e.qr_code)d(e.qr_code);else{let a=`https://whatsou.vercel.app/go/${e.id}`;M.toDataURL(a).then(d).catch(console.error)}}let a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,s=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;a&&!s&&p("ios");let handler=e=>{e.preventDefault(),m(e),p("native")};return window.addEventListener("beforeinstallprompt",handler),()=>{window.removeEventListener("beforeinstallprompt",handler)}},[e]);let handleCopyStoreLink=()=>{if(!e)return;let a=`https://whatsou.vercel.app/${e.slug}`;navigator.clipboard.writeText(a),P({title:q("dashboard.link_copied"),description:q("dashboard.link_copied_desc")})};return t.jsx("header",{className:"bg-[#008069] text-white sticky top-0 z-40 shadow-lg pt-[var(--sat)]",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0 pr-4",children:[t.jsx(u(),{src:"/logo.png",alt:"Logo",width:32,height:32,className:"w-8 h-8 shrink-0 object-contain brightness-0 invert"}),(0,t.jsxs)("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl font-bold truncate",children:e?.name}),t.jsx("p",{className:"text-xs text-green-100 hidden sm:block",children:q("dashboard.whatsapp_commerce")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0",children:[(0,t.jsxs)(D,{children:[t.jsx(E,{asChild:!0,children:(0,t.jsxs)(S.z,{variant:"ghost",className:"text-white hover:bg-[#017561] rounded-2xl px-2 sm:px-4 h-9 sm:h-10",children:[t.jsx(f.Z,{className:"w-4 h-4 ml-0 md:ml-0"}),t.jsx("span",{className:"hidden md:inline ml-2",children:q("dashboard.share")})]})}),(0,t.jsxs)(V,{align:"end",className:"w-48",children:[(0,t.jsxs)(A,{onClick:handleCopyStoreLink,className:"cursor-pointer",children:[t.jsx(b.Z,{className:"w-4 h-4 mr-2"}),q("dashboard.copy_link")]}),(0,t.jsxs)(A,{onClick:async()=>{if(!e)return;let a=`https://whatsou.vercel.app/${e.slug}`;if(G.Capacitor.isNativePlatform())try{let{Share:t}=await s.e(636).then(s.t.bind(s,30636,19));await t.share({title:e.name,text:e.description||"",url:a,dialogTitle:q("dashboard.share_store")});return}catch(e){console.error("Share failed",e)}navigator.share?navigator.share({title:e.name,text:e.description||"",url:a}).catch(console.error):handleCopyStoreLink()},className:"cursor-pointer",children:[t.jsx(f.Z,{className:"w-4 h-4 mr-2"}),q("dashboard.share_link")]}),(0,t.jsxs)(A,{onClick:()=>o(!0),className:"cursor-pointer",children:[t.jsx(w.Z,{className:"w-4 h-4 mr-2"}),q("dashboard.share_qr")]})]})]}),(0,t.jsxs)(D,{children:[t.jsx(E,{asChild:!0,children:t.jsx(S.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-[#017561] rounded-2xl w-9 h-9 sm:w-10 sm:h-10",children:t.jsx(g.Z,{className:"w-5 h-5"})})}),(0,t.jsxs)(V,{align:"end",className:"w-48",children:[(0,t.jsxs)(A,{onClick:()=>H("en"===F?"ar":"en"),className:"cursor-pointer",children:[t.jsx(j.Z,{className:"w-4 h-4 mr-2"}),"en"===F?"العربية":"English"]}),(0,t.jsxs)(A,{onClick:()=>z.push("/dashboard/settings"),className:"cursor-pointer",children:[t.jsx(N.Z,{className:"w-4 h-4 mr-2"}),q("dashboard.settings")]}),(0,t.jsxs)(A,{onClick:async()=>{let e="201000499431";if(G.Capacitor.isNativePlatform())try{let{AppLauncher:a}=await s.e(5584).then(s.t.bind(s,25584,19)),t=await a.canOpenUrl({url:"whatsapp://"});if(t.value){await a.openUrl({url:`whatsapp://send?phone=${e}`});return}}catch(e){console.error("AppLauncher error",e)}window.open(`https://wa.me/${e}`,"_blank")},className:"cursor-pointer",children:[t.jsx(v.Z,{className:"w-4 h-4 mr-2"}),q("dashboard.chat_support")]}),(0,t.jsxs)(A,{onClick:()=>{"native"===x&&c?(c.prompt(),c.userChoice.then(e=>{"accepted"===e.outcome&&P({title:q("pwa.install_title"),description:q("pwa.install_subtitle")}),m(null)})):"ios"===x?$(!0):P({title:q("pwa.install_title"),description:q("pwa.not_install_subtitle")})},className:"cursor-pointer",children:[t.jsx(y.Z,{className:"w-4 h-4 mr-2"}),q("dashboard.install_app")]}),(0,t.jsxs)(A,{onClick:R,className:"cursor-pointer text-red-600 focus:text-red-600",children:[t.jsx(k.Z,{className:"w-4 h-4 mr-2"}),q("dashboard.logout")]})]})]}),t.jsx(Y.Vq,{open:a,onOpenChange:o,children:(0,t.jsxs)(Y.cZ,{className:"sm:max-w-md",children:[t.jsx(Y.fK,{children:t.jsx(Y.$N,{className:"text-center",children:q("dashboard.share_qr")})}),t.jsx("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:i?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"relative w-64 h-64 border-4 border-[#008069] rounded-xl overflow-hidden p-2 bg-white",children:t.jsx("img",{src:i,alt:"Store QR Code",className:"w-full h-full object-contain"})}),(0,t.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,t.jsxs)(S.z,{className:"flex-1 bg-[#008069] hover:bg-[#017561]",onClick:async()=>{try{let a=await fetch(i),s=await a.blob(),t=new File([s],`${e?.slug}-qr.png`,{type:"image/png"});if(navigator.share)await navigator.share({files:[t],title:e?.name||"Store QR Code",text:e?.name});else{let a=document.createElement("a");a.href=i,a.download=`${e?.slug}-qr.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}catch(e){console.error("Error sharing:",e)}},children:[t.jsx(f.Z,{className:"w-4 h-4 mr-2"}),q("dashboard.share")]}),(0,t.jsxs)(S.z,{variant:"outline",className:"flex-1",onClick:async()=>{try{if(G.Capacitor.isNativePlatform()){let{Filesystem:a,Directory:t}=await s.e(1642).then(s.t.bind(s,21642,19)),r=i.split(",")[1],l=`${e?.slug||"store"}-qr-${Date.now()}.png`;await a.writeFile({path:l,data:r,directory:t.Documents});let{Toast:n}=await s.e(4296).then(s.t.bind(s,74296,19)),{Haptics:o,NotificationType:d}=await s.e(8124).then(s.t.bind(s,68124,19));await o.notification({type:d.Success}),await n.show({text:"ar"===F?"تم حفظ رمز QR في المستندات":"QR Code saved to Documents",duration:"long",position:"bottom"})}else{let a=document.createElement("a");a.href=i,a.download=`${e?.slug}-qr.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}catch(e){if(console.error("Download error:",e),G.Capacitor.isNativePlatform()){let{Toast:e}=await s.e(4296).then(s.t.bind(s,74296,19));await e.show({text:"ar"===F?"حدث خطأ أثناء الحفظ":"Error saving file",duration:"long"})}else P({title:q("common.error"),description:String(e),variant:"destructive"})}},children:[t.jsx(C.Z,{className:"w-4 h-4 mr-2"}),q("common.download")]})]})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#008069] mx-auto mb-4"}),t.jsx("p",{children:q("common.loading")})]})})]})}),t.jsx(Y.Vq,{open:Z,onOpenChange:$,children:(0,t.jsxs)(Y.cZ,{className:"max-w-xs sm:max-w-sm rounded-2xl",dir:L,children:[t.jsx(Y.fK,{children:t.jsx(Y.$N,{className:"text-center",children:q("pwa.ios_guide_title")})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0",children:t.jsx(f.Z,{className:"w-6 h-6 text-blue-500"})}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-bold text-sm",children:q("pwa.step_1_label")}),t.jsx("p",{className:"text-sm text-gray-500",children:q("pwa.step_1_text")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0",children:t.jsx(_.Z,{className:"w-6 h-6 text-gray-600"})}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-bold text-sm",children:q("pwa.step_2_label")}),t.jsx("p",{className:"text-sm text-gray-500",children:q("pwa.step_2_text")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex bg-gray-100 rounded-xl p-3 shrink-0 px-4",children:t.jsx("span",{className:"font-bold text-blue-600",children:"Add"})}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-bold text-sm",children:q("pwa.step_3_label")}),t.jsx("p",{className:"text-sm text-gray-500",children:q("pwa.step_3_text")})]})]})]}),t.jsx(S.z,{className:"w-full rounded-xl",onClick:()=>$(!1),children:q("pwa.got_it")})]})})]})]})})})}var K=s(57700),T=s(53265),B=s(34105);function SubscriptionCountdown(){let{language:e}=(0,h.Z)(),{subscription:a,loading:s}=(0,K.m)();if(s||!a)return null;if("inactive"===a.status)return t.jsx(d(),{href:"/dashboard/subscription",className:"block",children:(0,t.jsxs)("div",{className:"mx-4 mt-2 bg-amber-100 border-2 border-amber-500 rounded-xl p-4 flex items-center gap-3 animate-pulse",children:[t.jsx(T.Z,{className:"w-8 h-8 text-amber-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-amber-700 font-bold",children:"ar"===e?"فعّل اشتراكك":"Activate Your Subscription"}),t.jsx("p",{className:"text-amber-600 text-sm",children:"ar"===e?"ادفع الآن للوصول الكامل لمتجرك":"Pay now to unlock full access to your store"})]}),t.jsx("span",{className:"bg-amber-600 text-white px-4 py-2 rounded-lg text-sm font-bold",children:"ar"===e?"ادفع الآن":"Pay Now"})]})});let{status:r,daysRemaining:l,isReadOnly:n}=a,o="text-green-600",i="bg-green-500";return null!==l&&(l<=3?(o="text-red-600",i="bg-red-500"):l<=7&&(o="text-yellow-600",i="bg-yellow-500")),("grace"===r||"expired"===r)&&(o="grace"===r?"text-yellow-600":"text-red-600",i="grace"===r?"bg-yellow-500":"bg-red-500"),(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsxs)("div",{className:"mx-4 mt-2 bg-red-100 border-2 border-red-500 rounded-xl p-3 flex items-center gap-3",children:[t.jsx(B.Z,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-red-700 font-bold text-sm",children:"ar"===e?"وضع القراءة فقط":"Read-Only Mode"}),t.jsx("p",{className:"text-red-600 text-xs",children:"ar"===e?"اشتراكك منتهي. لا يمكنك تعديل المنتجات أو الإعدادات حتى تجدد.":"Your subscription has expired. You cannot edit products or settings until you renew."})]}),t.jsx(d(),{href:"/dashboard/subscription",className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-red-700",children:"ar"===e?"جدد الآن":"Renew Now"})]}),t.jsx(d(),{href:"/dashboard/subscription",className:"block",children:(0,t.jsxs)("div",{className:`mx-4 mt-2 rounded-xl overflow-hidden shadow-sm ${"grace"===r||"expired"===r?"animate-pulse":""}`,children:[t.jsx("div",{className:"bg-gray-200 h-2",children:t.jsx("div",{className:`h-full ${i} transition-all duration-500`,style:{width:`${null!==l?Math.max(0,Math.min(100,l/30*100)):0}%`}})}),(0,t.jsxs)("div",{className:"bg-white px-4 py-2 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(T.Z,{className:`w-5 h-5 ${o}`}),(0,t.jsxs)("span",{className:`font-medium ${o}`,children:["active"===r&&null!==l&&("ar"===e?`متبقي ${l} يوم`:`${l} days left`),"grace"===r&&("ar"===e?"فترة سماح - جدد الآن":"Grace period - Renew now"),"expired"===r&&("ar"===e?"اشتراك منتهي":"Subscription expired")]})]}),("active"!==r||null!==l&&l<=7)&&t.jsx("span",{className:`text-sm ${o} font-bold`,children:"ar"===e?"جدد ←":"Renew →"})]})]})})]})}var I=s(69615),J=s(69211),W=s(12428);function DashboardLayout({children:e}){let[a,s]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),{user:d,loading:c}=(0,n.a)(),{direction:m}=(0,h.Z)();(0,l.useRouter)();let x=(0,r.useCallback)(async()=>{if(!c){if(!d){i(!1);return}try{let{data:e,error:a}=await W.O.from("stores").select("*").eq("user_id",d.id).maybeSingle();if(a){console.error("Store load error:",a);return}if(!e){i(!1);return}s(e)}catch(e){console.error("Error loading store:",e)}finally{i(!1)}}},[d,c]),p=(0,r.useCallback)(async()=>{try{let e=await J.h.get("/api/dashboard/store");e.store&&s(e.store)}catch(e){console.error("Error refetching store:",e)}},[]);return((0,r.useEffect)(()=>{x()},[x]),o)?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f0f2f5]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#008069]"})}):t.jsx(AuthGuard,{children:t.jsx(I.g,{value:{store:a,loading:o,refetchStore:p},children:t.jsx(K.q,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-[#f0f2f5] overflow-x-hidden",dir:m,children:[t.jsx(DashboardHeader,{store:a}),t.jsx(SubscriptionCountdown,{}),t.jsx("div",{className:"pb-32",children:e}),t.jsx(BottomNav,{})]})})})})}},77952:(e,a,s)=>{"use strict";s.d(a,{$N:()=>x,Vq:()=>i,cZ:()=>m,fK:()=>DialogHeader});var t=s(84196),r=s(78726),l=s(40265),n=s(64463),o=s(42135);let i=l.fC;l.xz;let d=l.h_;l.x8;let c=r.forwardRef(({className:e,...a},s)=>t.jsx(l.aV,{ref:s,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));c.displayName=l.aV.displayName;let m=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(d,{children:[t.jsx(c,{}),(0,t.jsxs)(l.VY,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(l.x8,{className:"absolute left-4 top-4 z-50 rounded-full bg-white/20 p-1 opacity-70 ring-offset-background transition-all hover:bg-white/40 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none text-white shadow-sm",children:[t.jsx(n.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.VY.displayName;let DialogHeader=({className:e,...a})=>t.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});DialogHeader.displayName="DialogHeader";let x=r.forwardRef(({className:e,...a},s)=>t.jsx(l.Dx,{ref:s,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));x.displayName=l.Dx.displayName;let h=r.forwardRef(({className:e,...a},s)=>t.jsx(l.dk,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...a}));h.displayName=l.dk.displayName},69615:(e,a,s)=>{"use strict";s.d(a,{g:()=>StoreProvider,o:()=>useStore});var t=s(84196),r=s(78726);let l=(0,r.createContext)({store:null,loading:!0,refetchStore:async()=>{}});function StoreProvider({children:e,value:a}){return t.jsx(l.Provider,{value:a,children:e})}let useStore=()=>(0,r.useContext)(l)},57700:(e,a,s)=>{"use strict";s.d(a,{m:()=>useSubscription,q:()=>SubscriptionProvider});var t=s(84196),r=s(78726),l=s(69211);let n=(0,r.createContext)({subscription:null,loading:!0,refresh:async()=>{}});function SubscriptionProvider({children:e}){let[a,s]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),d=(0,r.useCallback)(async()=>{try{if(!l.h.isAuthenticated()){i(!1);return}let e=await l.h.get("/api/dashboard/subscription/status");s(e)}catch(e){console.error("Error fetching subscription status:",e)}finally{i(!1)}},[]);return(0,r.useEffect)(()=>{d()},[d]),t.jsx(n.Provider,{value:{subscription:a,loading:o,refresh:d},children:e})}function useSubscription(){let e=(0,r.useContext)(n);if(!e)throw Error("useSubscription must be used within a SubscriptionProvider");return e}},97913:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var t=s(64074);let r=(0,t.createProxy)(String.raw`D:\whatsou\apps\mobile\app\dashboard\layout.tsx`),{__esModule:l,$$typeof:n}=r,o=r.default,i=o}};