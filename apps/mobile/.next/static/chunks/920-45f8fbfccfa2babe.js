"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{7321:function(e,t,r){r.d(t,{d:function(){return d},z:function(){return u}});var n=r(7573),s=r(7653),a=r(432),o=r(6005),i=r(3883);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:u=!1,...l}=e,c=u?a.g7:"button";return(0,n.jsx)(c,{className:(0,i.cn)(d({variant:s,size:o,className:r})),ref:t,...l})});u.displayName="Button"},4896:function(e,t,r){r.d(t,{I:function(){return o}});var n=r(7573),s=r(7653),a=r(3883);let o=s.forwardRef((e,t)=>{let{className:r,type:s,...o}=e;return(0,n.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},9861:function(e,t,r){r.d(t,{_:function(){return u}});var n=r(7573),s=r(7653),a=r(1500),o=r(6005),i=r(3883);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,i.cn)(d(),r),...s})});u.displayName=a.f.displayName},372:function(e,t,r){r.d(t,{Bw:function(){return h},Ph:function(){return l},Ql:function(){return b},i4:function(){return f},ki:function(){return c}});var n=r(7573),s=r(7653),a=r(5363),o=r(7216),i=r(8695),d=r(9375),u=r(3883);let l=a.fC;a.ZA;let c=a.B4,f=s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e;return(0,n.jsxs)(a.xz,{ref:t,className:(0,u.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[s,(0,n.jsx)(a.JO,{asChild:!0,children:(0,n.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=a.xz.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.u_,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,n.jsx)(i.Z,{className:"h-4 w-4"})})});p.displayName=a.u_.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.$G,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,n.jsx)(o.Z,{className:"h-4 w-4"})})});m.displayName=a.$G.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,position:o="popper",...i}=e;return(0,n.jsx)(a.h_,{children:(0,n.jsxs)(a.VY,{ref:t,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:o,...i,children:[(0,n.jsx)(p,{}),(0,n.jsx)(a.l_,{className:(0,u.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,n.jsx)(m,{})]})})});h.displayName=a.VY.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.__,{ref:t,className:(0,u.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})});g.displayName=a.__.displayName;let b=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,n.jsxs)(a.ck,{ref:t,className:(0,u.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(a.wU,{children:(0,n.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(a.eT,{children:s})]})});b.displayName=a.ck.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.Z0,{ref:t,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",r),...s})});x.displayName=a.Z0.displayName},6370:function(e,t,r){r.d(t,{r:function(){return i}});var n=r(7573),s=r(7653),a=r(1583),o=r(3883);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.fC,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...s,ref:t,children:(0,n.jsx)(a.bU,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=a.fC.displayName},5654:function(e,t,r){r.d(t,{g:function(){return o}});var n=r(7573),s=r(7653),a=r(3883);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});o.displayName="Textarea"},2272:function(e,t,r){r.d(t,{pm:function(){return useToast}});var n=r(7653);let s=0,a=new Map,addToRemoveQueue=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},reducer=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?addToRemoveQueue(r):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],i={toasts:[]};function dispatch(e){i=reducer(i,e),o.forEach(e=>{e(i)})}function toast(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:r});return dispatch({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:r,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function useToast(){let[e,t]=n.useState(i);return n.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast,dismiss:e=>dispatch({type:"DISMISS_TOAST",toastId:e})}}},6803:function(e,t,r){r.r(t),r.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var n=r(7573),s=r(7653),a=r(2859),o=r(8681);let i=(0,s.createContext)(void 0);function useAuth(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function AuthProvider(e){let{children:t}=e,[r,d]=(0,s.useState)(null),[u,l]=(0,s.useState)(!0),c=(0,a.useRouter)();(0,s.useEffect)(()=>{let checkSession=async()=>{if(!o.h.isAuthenticated()){l(!1);return}try{let e=await o.h.get("/api/auth/session");e.authenticated&&e.user?d(e.user):o.h.clearToken()}catch(e){console.error("Session check failed:",e),o.h.clearToken()}l(!1)};checkSession()},[]);let signIn=async(e,t)=>{try{let r=await o.h.post("/api/auth/login",{phone:e,password:t});if(r.error)return{error:r.error};return o.h.setToken(r.token),d(r.user),c.push("/dashboard"),{}}catch(e){return{error:e.message}}},signUp=async(e,t)=>{try{let r=await o.h.post("/api/auth/signup",{phone:e,password:t});if(r.error)return{error:r.error};return o.h.setToken(r.token),d(r.user),c.push("/onboarding"),{}}catch(e){return{error:e.message}}};return(0,n.jsx)(i.Provider,{value:{user:r,loading:u,signIn,signUp,signOut:()=>{o.h.clearToken(),d(null),c.push("/login")}},children:t})}},6046:function(e,t,r){r.d(t,{g:function(){return StoreProvider},o:function(){return useStore}});var n=r(7573),s=r(7653);let a=(0,s.createContext)({store:null,loading:!0,refetchStore:async()=>{}});function StoreProvider(e){let{children:t,value:r}=e;return(0,n.jsx)(a.Provider,{value:r,children:t})}let useStore=()=>(0,s.useContext)(a)},4996:function(e,t,r){r.d(t,{O:function(){return d}});var n=r(5911),s=r(6028),a=r(2979);let o={getItem:async e=>{let{Preferences:t}=await r.e(896).then(r.bind(r,7896)),{value:n}=await t.get({key:e});return n},setItem:async(e,t)=>{let{Preferences:n}=await r.e(896).then(r.bind(r,7896));await n.set({key:e,value:t})},removeItem:async e=>{let{Preferences:t}=await r.e(896).then(r.bind(r,7896));await t.remove({key:e})}},i=null,getSupabaseClient=()=>{if(!i){let e="https://bwezqrjwdrobztgeutji.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3ZXpxcmp3ZHJvYnp0Z2V1dGppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMzg0MDIsImV4cCI6MjA4MTcxNDQwMn0.nsiHXb7EW4KmZqlPy2tZ1-5RTLUsfOMcNa9Wq3xtPeQ";e&&t||(console.error("Supabase Client Error: Missing env vars",{url:!!e,key:!!t}),console.warn("Initializing Supabase with dummy values to prevent crash. Check your environment variables.")),i=a.dV.isNativePlatform()?(0,n.eI)(e||"https://placeholder.supabase.co",t||"placeholder-key",{auth:{storage:o,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}):(0,s.createBrowserClient)(e||"https://placeholder.supabase.co",t||"placeholder-key")}return i},d=new Proxy({},{get:(e,t)=>getSupabaseClient()[t]})},3883:function(e,t,r){r.d(t,{cn:function(){return cn}});var n=r(794),s=r(9654);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},6923:function(e,t,r){r.d(t,{Z:function(){return n.useLanguage}});var n=r(7855)}}]);