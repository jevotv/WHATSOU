(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{3680:function(e,t,s){Promise.resolve().then(s.bind(s,7999))},7999:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return SettingsPage}});var a=s(7573),r=s(7653),l=s(6803),n=s(2859),i=s(7321),o=s(4896),c=s(5654),d=s(9861),m=s(9391),g=s(315),h=s(3296),x=s(7470),u=s(4142),p=s(3273),b=s(7433),y=s(6528),f=s(265),v=s(8073),j=s(2272),N=s(6072),w=s.n(N),_=s(6811),C=s(6923),S=s(8681),k=s(2979),P=s(6370),z=s(4996),I=s(5018),A=s(5860),E=s(3883);let Z=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(I.fC,{className:(0,E.cn)("grid gap-2",s),...r,ref:t})});Z.displayName=I.fC.displayName;let O=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(I.ck,{ref:t,className:(0,E.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,a.jsx)(I.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(A.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});O.displayName=I.ck.displayName;var D=s(7917),T=s(7643),F=s(9375),L=s(9576),R=s(372),V=s(733);let G=V.fC,U=V.xz,B=r.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:l=4,...n}=e;return(0,a.jsx)(V.h_,{children:(0,a.jsx)(V.VY,{ref:t,align:r,sideOffset:l,className:(0,E.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});B.displayName=V.VY.displayName;var q=s(6005);let M=(0,q.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,E.cn)(M({variant:s}),t),...r})}function StoreShippingSettings(e){let{shippingConfig:t,freeShippingThreshold:s,onConfigChange:l,onThresholdChange:n}=e,{t:c,direction:m}=(0,C.Z)(),[g,h]=(0,r.useState)([]),[x,u]=(0,r.useState)([]),[b,y]=(0,r.useState)(!0),[f,j]=(0,r.useState)(null),[N,w]=(0,r.useState)(null),[_,S]=(0,r.useState)(""),[k,I]=(0,r.useState)(!1),[A,V]=(0,r.useState)(""),[q,M]=(0,r.useState)(!1),[Q,W]=(0,r.useState)(new Set),[Y,H]=(0,r.useState)(""),[X,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{fetchLocations()},[]);let fetchLocations=async()=>{try{let[e,t]=await Promise.all([z.O.from("cities").select("*").order("name_ar"),z.O.from("districts").select("*").order("name_ar")]);e.data&&h(e.data),t.data&&u(t.data)}catch(e){console.error("Error fetching locations:",e)}finally{y(!1)}},handleTypeChange=e=>{let t;switch(e){case"none":t={type:"none"};break;case"nationwide":t={type:"nationwide",price:0};break;case"by_city":t={type:"by_city",rates:{}};break;case"by_district":t={type:"by_district",rates:{}};break;default:return}l(t)},handleNationwidePriceChange=e=>{l({type:"nationwide",price:parseFloat(e)||0})},handleRemoveRate=e=>{if("by_city"===t.type||"by_district"===t.type){let s={...t.rates};delete s[e],l({...t,rates:s})}},handleToggleSelect=e=>{let t=new Set(Q);t.has(e)?t.delete(e):t.add(e),W(t)},getCityName=e=>{let t=g.find(t=>t.id===parseInt(e));return"rtl"===m?null==t?void 0:t.name_ar:null==t?void 0:t.name_en},getDistrictName=e=>{let t=x.find(t=>t.id===parseInt(e)),s=g.find(e=>e.id===(null==t?void 0:t.city_id)),a="rtl"===m?null==t?void 0:t.name_ar:null==t?void 0:t.name_en,r="rtl"===m?null==s?void 0:s.name_ar:null==s?void 0:s.name_en;return"".concat(r," - ").concat(a)},J=(0,r.useMemo)(()=>f?x.filter(e=>e.city_id===f):[],[f,x]);return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 text-[#008069]"}),"rtl"===m?"إعدادات الشحن":"Shipping Settings"]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(Z,{value:t.type,onValueChange:handleTypeChange,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{onClick:()=>handleTypeChange("none"),className:(0,E.cn)("flex items-start space-x-3 space-x-reverse rounded-lg border p-4 cursor-pointer hover:bg-gray-50 transition-colors","none"===t.type&&"border-[#008069] bg-green-50/50"),children:[(0,a.jsx)(O,{value:"none",id:"type-none",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(d._,{htmlFor:"type-none",className:"font-bold cursor-pointer block",children:"rtl"===m?"لا يوجد شحن":"No Shipping"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"rtl"===m?"تعطيل خيارات الشحن (استلام من المتجر فقط)":"Disable shipping options (Pickup only)"})]})]}),(0,a.jsxs)("div",{onClick:()=>handleTypeChange("nationwide"),className:(0,E.cn)("flex items-start space-x-3 space-x-reverse rounded-lg border p-4 cursor-pointer hover:bg-gray-50 transition-colors","nationwide"===t.type&&"border-[#008069] bg-green-50/50"),children:[(0,a.jsx)(O,{value:"nationwide",id:"type-nationwide",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(d._,{htmlFor:"type-nationwide",className:"font-bold cursor-pointer block",children:"rtl"===m?"سعر موحد":"Flat Rate"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"rtl"===m?"سعر شحن ثابت لجميع المناطق":"Fixed shipping price for all locations"})]})]}),(0,a.jsxs)("div",{onClick:()=>handleTypeChange("by_city"),className:(0,E.cn)("flex items-start space-x-3 space-x-reverse rounded-lg border p-4 cursor-pointer hover:bg-gray-50 transition-colors","by_city"===t.type&&"border-[#008069] bg-green-50/50"),children:[(0,a.jsx)(O,{value:"by_city",id:"type-city",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(d._,{htmlFor:"type-city",className:"font-bold cursor-pointer block",children:"rtl"===m?"حسب المحافظة":"By Governorate"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"rtl"===m?"تحديد سعر شحن مختلف لكل محافظة":"Set different shipping prices per governorate"})]})]}),(0,a.jsxs)("div",{onClick:()=>handleTypeChange("by_district"),className:(0,E.cn)("flex items-start space-x-3 space-x-reverse rounded-lg border p-4 cursor-pointer hover:bg-gray-50 transition-colors","by_district"===t.type&&"border-[#008069] bg-green-50/50"),children:[(0,a.jsx)(O,{value:"by_district",id:"type-district",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(d._,{htmlFor:"type-district",className:"font-bold cursor-pointer block",children:"rtl"===m?"حسب المنطقة":"By District"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"rtl"===m?"تحديد سعر شحن مفصل لكل منطقة/حي":"Set detailed shipping prices per district/area"})]})]})]}),"nationwide"===t.type&&(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100 animate-in fade-in slide-in-from-top-2",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700 block mb-2",children:"rtl"===m?"سعر الشحن":"Shipping Price"}),(0,a.jsxs)("div",{className:"relative max-w-xs",children:[(0,a.jsx)(o.I,{type:"number",min:"0",value:t.price||"",onChange:e=>handleNationwidePriceChange(e.target.value),className:"pl-16 rtl:pl-4 rtl:pr-16 text-left rtl:text-right",placeholder:"0.00"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center px-4 pointer-events-none text-gray-500 bg-gray-100 border-r rtl:border-r-0 rtl:border-l border-gray-200 rounded-l rtl:rounded-l-none rtl:rounded-r-md",children:"EGP"})]})]}),("by_city"===t.type||"by_district"===t.type)&&(0,a.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:"rtl"===m?"أسعار المناطق":"Zone Rates"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsxs)(G,{open:k,onOpenChange:I,children:[(0,a.jsx)(U,{asChild:!0,children:(0,a.jsxs)(i.z,{size:"sm",className:"bg-[#008069] hover:bg-green-600",children:[(0,a.jsx)(D.Z,{className:"w-4 h-4 mr-1 rtl:mr-0 rtl:ml-1"}),"rtl"===m?"إضافة منطقة":"Add Zone"]})}),(0,a.jsx)(B,{className:"w-80 p-4",align:"rtl"===m?"start":"end",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium leading-none",children:"rtl"===m?"إضافة سعر جديد":"Add New Rate"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{children:"rtl"===m?"المحافظة":"Governorate"}),(0,a.jsxs)(R.Ph,{value:null==f?void 0:f.toString(),onValueChange:e=>{j(parseInt(e)),w(null)},children:[(0,a.jsx)(R.i4,{children:(0,a.jsx)(R.ki,{placeholder:"rtl"===m?"اختر محافظة":"Select Governorate"})}),(0,a.jsx)(R.Bw,{className:"max-h-60",children:g.map(e=>(0,a.jsx)(R.Ql,{value:e.id.toString(),children:"rtl"===m?e.name_ar:e.name_en},e.id))})]})]}),"by_district"===t.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{children:"rtl"===m?"المنطقة":"District"}),(0,a.jsxs)(R.Ph,{value:null==N?void 0:N.toString(),onValueChange:e=>w(parseInt(e)),disabled:!f,children:[(0,a.jsx)(R.i4,{children:(0,a.jsx)(R.ki,{placeholder:"rtl"===m?"اختر منطقة":"Select District"})}),(0,a.jsx)(R.Bw,{className:"max-h-60",children:J.map(e=>(0,a.jsx)(R.Ql,{value:e.id.toString(),children:"rtl"===m?e.name_ar:e.name_en},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{children:"rtl"===m?"السعر":"Price"}),(0,a.jsx)(o.I,{type:"number",min:"0",value:_,onChange:e=>S(e.target.value),placeholder:"0.00"})]}),(0,a.jsx)(i.z,{onClick:()=>{let e=parseFloat(_);isNaN(e)||("by_city"===t.type&&f?l({...t,rates:{...t.rates,[f]:e}}):"by_district"===t.type&&N&&l({...t,rates:{...t.rates,[N]:e}}),j(null),w(null),S(""),I(!1))},className:"w-full bg-[#008069] hover:bg-green-600",children:"rtl"===m?"إضافة":"Add"})]})})]}),(0,a.jsxs)(G,{open:q,onOpenChange:M,children:[(0,a.jsx)(U,{asChild:!0,children:(0,a.jsx)(i.z,{size:"sm",variant:"outline",children:"rtl"===m?"إضافة الكل":"Add All"})}),(0,a.jsx)(B,{className:"w-80 p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium leading-none",children:"rtl"===m?"تطبيق سعر موحد":"Apply Bulk Price"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"by_city"===t.type?"rtl"===m?"سيتم إضافة جميع المحافظات بهذا السعر":"All governorates will be added with this price":"rtl"===m?"يجب اختيار محافظة أولاً لإضافة كل مناطقها":"Select a governorate first to add all its districts"}),"by_district"===t.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{children:"rtl"===m?"المحافظة":"Governorate"}),(0,a.jsxs)(R.Ph,{value:null==f?void 0:f.toString(),onValueChange:e=>{j(parseInt(e))},children:[(0,a.jsx)(R.i4,{children:(0,a.jsx)(R.ki,{placeholder:"rtl"===m?"اختر محافظة":"Select Governorate"})}),(0,a.jsx)(R.Bw,{className:"max-h-60",children:g.map(e=>(0,a.jsx)(R.Ql,{value:e.id.toString(),children:"rtl"===m?e.name_ar:e.name_en},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{children:"rtl"===m?"السعر":"Price"}),(0,a.jsx)(o.I,{type:"number",min:"0",value:A,onChange:e=>V(e.target.value),placeholder:"0.00"})]}),(0,a.jsx)(i.z,{onClick:()=>{let e=parseFloat(A);if(isNaN(e)||"by_city"!==t.type&&"by_district"!==t.type)return;let s={...t.rates};if("by_city"===t.type)g.forEach(t=>{s[t.id]=e});else if("by_district"===t.type&&f){let t=x.filter(e=>e.city_id===f);t.forEach(t=>{s[t.id]=e})}l({...t,rates:s}),M(!1),V("")},className:"w-full bg-[#008069] hover:bg-green-600",children:"rtl"===m?"تطبيق":"Apply"})]})})]}),("by_city"===t.type||"by_district"===t.type)&&Object.keys(t.rates).length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(i.z,{size:"sm",variant:"ghost",onClick:()=>{("by_city"===t.type||"by_district"===t.type)&&(Q.size===Object.keys(t.rates).length?W(new Set):W(new Set(Object.keys(t.rates))))},className:"text-gray-600",children:Q.size===Object.keys(t.rates).length?"rtl"===m?"إلغاء تحديد الكل":"Deselect All":"rtl"===m?"تحديد الكل":"Select All"}),Q.size>0&&(0,a.jsxs)(G,{open:X,onOpenChange:$,children:[(0,a.jsx)(U,{asChild:!0,children:(0,a.jsx)(i.z,{size:"sm",variant:"outline",className:"border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100",children:"rtl"===m?"تحديث (".concat(Q.size,")"):"Update (".concat(Q.size,")")})}),(0,a.jsx)(B,{className:"w-80 p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium leading-none",children:"rtl"===m?"تحديث السعر للمحدد":"Update Price for Selected"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{children:"rtl"===m?"السعر":"Price"}),(0,a.jsx)(o.I,{type:"number",min:"0",value:Y,onChange:e=>H(e.target.value),placeholder:"0.00"})]}),(0,a.jsx)(i.z,{onClick:()=>{if("by_city"!==t.type&&"by_district"!==t.type)return;let e=parseFloat(Y);if(isNaN(e))return;let s={...t.rates};Q.forEach(t=>{s[t]=e}),l({...t,rates:s}),$(!1),H(""),W(new Set)},className:"w-full bg-blue-600 hover:bg-blue-700",children:"rtl"===m?"تحديث":"Update"})]})})]}),(0,a.jsx)(i.z,{size:"sm",variant:"ghost",onClick:()=>{("by_city"===t.type||"by_district"===t.type)&&(l({...t,rates:{}}),W(new Set))},className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:"rtl"===m?"حذف الكل":"Clear All"})]})]})]}),(0,a.jsx)("div",{className:"border rounded-lg divide-y bg-gray-50 max-h-60 overflow-y-auto",children:("by_city"===t.type||"by_district"===t.type)&&0===Object.entries(t.rates).length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(T.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"rtl"===m?"لم يتم إضافة مناطق بعد":"No zones added yet"})]}):("by_city"===t.type||"by_district"===t.type)&&Object.entries(t.rates).map(e=>{let[s,r]=e;return(0,a.jsxs)("div",{className:(0,E.cn)("flex items-center justify-between p-3 cursor-pointer transition-colors",Q.has(s)?"bg-blue-50 border-blue-200":"hover:bg-gray-100"),onClick:()=>handleToggleSelect(s),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:(0,E.cn)("p-2 rounded-full border",Q.has(s)?"bg-blue-100 border-blue-200":"bg-white"),children:Q.has(s)?(0,a.jsx)(F.Z,{className:"w-4 h-4 text-blue-600"}):(0,a.jsx)(T.Z,{className:"w-4 h-4 text-[#008069]"})}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"by_city"===t.type?getCityName(s):getDistrictName(s)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(Badge,{variant:Q.has(s)?"default":"secondary",className:Q.has(s)?"bg-blue-600 hover:bg-blue-700":"bg-white",children:[r," EGP"]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),handleRemoveRate(s)},className:"text-red-500 hover:bg-red-50 p-1.5 rounded-full transition-colors",children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})})]})]},s)})})]}),"none"!==t.type&&(0,a.jsxs)("div",{className:"pt-6 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{className:"text-base font-bold text-gray-900 block",children:"rtl"===m?"شحن مجاني للطلبات الكبيرة":"Free Shipping for Large Orders"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"rtl"===m?"سيتم تطبيق شحن مجاني تلقائياً عندما يتجاوز الطلب هذا المبلغ":"Free shipping will be automatically applied when order total exceeds this amount"})]}),(0,a.jsx)(P.r,{checked:null!==s,onCheckedChange:e=>n(e?0:null)})]}),null!==s&&(0,a.jsxs)("div",{className:"mt-4 max-w-xs animate-in fade-in slide-in-from-top-1",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700 block mb-2",children:"rtl"===m?"الحد الأدنى للطلب":"Minimum Order Amount"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.I,{type:"number",min:"0",value:s,onChange:e=>n(parseFloat(e.target.value)||0),className:"pl-16 rtl:pl-4 rtl:pr-16 text-left rtl:text-right"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center px-4 pointer-events-none text-gray-500 bg-gray-100 border-r rtl:border-r-0 rtl:border-l border-gray-200 rounded-l rtl:rounded-l-none rtl:rounded-r-md",children:"EGP"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 border-t pt-6 animate-in fade-in slide-in-from-top-4",children:[(0,a.jsxs)("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(L.Z,{className:"w-4 h-4"}),"rtl"===m?"معاينة للعميل":"Customer Preview"]}),(0,a.jsx)("div",{className:"bg-gray-50 border rounded-xl p-4 max-w-sm mx-auto shadow-sm",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"rtl"===m?"المنتجات":"Subtotal"}),(0,a.jsx)("span",{className:"font-medium",children:"250.00 EGP"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"rtl"===m?"الشحن":"Shipping"}),(0,a.jsx)("span",{className:"font-medium text-[#008069]",children:"none"===t.type?"rtl"===m?"غير متاح":"N/A":"nationwide"===t.type?"".concat(t.price," EGP"):"rtl"===m?"يختلف حسب العنوان":"Depends on address"})]}),s&&(0,a.jsxs)("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded border border-green-100 flex items-center gap-2",children:[(0,a.jsx)(F.Z,{className:"w-3 h-3"}),"rtl"===m?"شحن مجاني للطلبات فوق ".concat(s," ج.م"):"Free shipping on orders over ".concat(s," EGP")]}),(0,a.jsxs)("div",{className:"pt-2 border-t flex justify-between font-bold",children:[(0,a.jsx)("span",{children:"rtl"===m?"الإجمالي":"Total"}),(0,a.jsx)("span",{children:"..."})]})]})})]})]})}var Q=s(6046);function SettingsPage(){let{store:e,loading:t,refetchStore:N}=(0,Q.o)(),[z,I]=(0,r.useState)(!0),[A,E]=(0,r.useState)(!1),[Z,O]=(0,r.useState)(""),[D,T]=(0,r.useState)(""),[F,L]=(0,r.useState)(""),[R,V]=(0,r.useState)("en"),[G,U]=(0,r.useState)(""),[B,q]=(0,r.useState)(""),[M,W]=(0,r.useState)(null),[Y,H]=(0,r.useState)(""),[X,$]=(0,r.useState)(""),[J,K]=(0,r.useState)(""),[ee,et]=(0,r.useState)(""),[es,ea]=(0,r.useState)(""),[er,el]=(0,r.useState)(""),[en,ei]=(0,r.useState)(!0),[eo,ec]=(0,r.useState)(!1),[ed,em]=(0,r.useState)({type:"none"}),[eg,eh]=(0,r.useState)(null),[ex,eu]=(0,r.useState)(""),[ep,eb]=(0,r.useState)(""),[ey,ef]=(0,r.useState)(""),[ev,ej]=(0,r.useState)(!1),[eN,ew]=(0,r.useState)(!1),[e_,eC]=(0,r.useState)(!1),[eS,ek]=(0,r.useState)(!1),[eP,ez]=(0,r.useState)(""),[eI,eA]=(0,r.useState)(!1),{user:eE,loading:eZ}=(0,l.useAuth)(),eO=(0,n.useRouter)(),{toast:eD}=(0,j.pm)(),{t:eT,direction:eF}=(0,C.Z)();(0,r.useEffect)(()=>{eZ||eE||eO.push("/login"),eE&&k.dV.isNativePlatform()&&s.e(163).then(s.bind(s,8163)).then(e=>{let{NativeBiometric:t}=e;t.isAvailable().then(e=>{eC(e.isAvailable),s.e(896).then(s.bind(s,7896)).then(e=>{let{Preferences:t}=e;t.get({key:"biometric_enabled"}).then(e=>{let{value:t}=e;ew("true"===t)})})}).catch(()=>{})})},[eE,eO,eZ]),(0,r.useEffect)(()=>{if(e){var s,a,r;O(e.name),T(e.description||""),L(e.whatsapp_number),V(e.default_language||"en"),U(e.email||""),q(e.logo_url||""),H(e.logo_url||""),$(e.facebook_url||""),K(e.instagram_url||""),et(e.twitter_url||""),ea(e.tiktok_url||""),el(e.location_url||""),ei(null===(s=e.allow_delivery)||void 0===s||s),ec(null!==(a=e.allow_pickup)&&void 0!==a&&a),em(e.shipping_config||{type:"none"}),eh(null!==(r=e.free_shipping_threshold)&&void 0!==r?r:null),I(!1)}else t||I(!1)},[e,t]);let handleNativeLogoCamera=async()=>{try{let{Camera:e,CameraResultType:t,CameraSource:a}=await s.e(727).then(s.bind(s,3727)),r=await e.getPhoto({quality:90,allowEditing:!0,resultType:t.DataUrl,source:a.Prompt});if(r.dataUrl){H(r.dataUrl);let e=await fetch(r.dataUrl),t=await e.blob(),s=new File([t],"logo.jpg",{type:t.type});W(s)}}catch(e){console.error("Camera error",e)}},uploadLogo=async()=>{if(!M)return B;try{let e=new FormData;e.append("file",M),e.append("folder","logos");let t=await S.h.fetch("/api/upload",{method:"POST",body:e});return t.url}catch(e){return eD({title:"Logo upload failed",description:e.message,variant:"destructive"}),B}},handleSave=async()=>{if(e){if(k.dV.isNativePlatform()){let{Haptics:e,ImpactStyle:t}=await s.e(824).then(s.bind(s,9824));await e.impact({style:t.Medium})}E(!0);try{let e=await uploadLogo(),t={name:Z,description:D||null,whatsapp_number:(0,_.yL)(F),default_language:R,email:G||null,logo_url:e,facebook_url:X||null,instagram_url:J||null,twitter_url:ee||null,tiktok_url:es||null,location_url:er||null,allow_delivery:en,allow_pickup:eo,shipping_config:ed,free_shipping_threshold:eg},s=await S.h.put("/api/dashboard/store",t);if(s.error)throw Error(s.error);await N(),eD({title:eT("settings.saved"),description:eT("settings.saved_desc")})}catch(e){eD({title:eT("common.error"),description:e.message,variant:"destructive"})}finally{E(!1)}}},handlePasswordChange=async()=>{if(!ex||!ep||!ey){eD({title:eT("common.error"),description:"rtl"===eF?"يرجى ملء جميع حقول كلمة المرور":"Please fill all password fields",variant:"destructive"});return}if(ep!==ey){eD({title:eT("common.error"),description:"rtl"===eF?"كلمات المرور الجديدة غير متطابقة":"New passwords do not match",variant:"destructive"});return}if(ep.length<6){eD({title:eT("common.error"),description:"rtl"===eF?"يجب أن تكون كلمة المرور 6 أحرف على الأقل":"Password must be at least 6 characters",variant:"destructive"});return}ej(!0);try{let e=await S.h.post("/api/auth/change-password",{currentPassword:ex,newPassword:ep});if(e.error)throw Error(e.error);eD({title:eT("settings.saved"),description:"rtl"===eF?"تم تغيير كلمة المرور بنجاح":"Password changed successfully"}),eu(""),eb(""),ef("")}catch(e){eD({title:eT("common.error"),description:"Incorrect current password"===e.message?"rtl"===eF?"كلمة المرور الحالية غير صحيحة":"Incorrect current password":e.message,variant:"destructive"})}finally{ej(!1)}},handleDeleteAccount=async()=>{if(!eP.trim()){eD({title:eT("common.error"),description:eT("settings.delete_reason_required"),variant:"destructive"});return}eA(!0);try{let e=await S.h.post("/api/auth/delete-account",{reason:eP});if(e.error)throw Error(e.error);eO.push("/login")}catch(e){eD({title:eT("common.error"),description:e.message,variant:"destructive"})}finally{eA(!1)}};return z?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#f6f8f7]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#008069]"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-[#f6f8f7]",dir:eF,children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("button",{onClick:()=>eO.push("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 ".concat("rtl"===eF?"rotate-180":"")}),(0,a.jsx)("span",{className:"font-medium",children:eT("common.back")})]}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:eT("settings.title")}),(0,a.jsxs)(i.z,{onClick:handleSave,disabled:A,className:"bg-[#008069] hover:bg-green-500 text-[#111813] font-bold rounded-lg",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 ".concat("rtl"===eF?"ml-2":"mr-2")}),A?eT("common.saving"):eT("common.save")]})]})})}),(0,a.jsx)("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-[#008069]"}),eT("settings.identity")]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative group cursor-pointer",children:[(0,a.jsx)("div",{className:"relative h-32 w-32 rounded-full border-4 border-gray-100 overflow-hidden bg-gradient-to-br from-[#008069] to-green-600",children:Y?(0,a.jsx)(w(),{src:Y,alt:"Store logo",fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-4xl font-bold",children:Z.charAt(0).toUpperCase()})})}),(0,a.jsxs)("label",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:e=>{k.dV.isNativePlatform()&&(e.preventDefault(),handleNativeLogoCamera())},children:[(0,a.jsx)(x.Z,{className:"w-8 h-8 text-white"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){W(s);let e=new FileReader;e.onloadend=()=>{H(e.result)},e.readAsDataURL(s)}},className:(k.dV.isNativePlatform(),"hidden")})]})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-[#008069]",children:eT("settings.change_logo")})]}),(0,a.jsxs)("div",{className:"flex-1 w-full space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:eT("settings.store_name")}),(0,a.jsx)(o.I,{value:Z,onChange:e=>O(e.target.value),placeholder:"My Awesome Store",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:eT("settings.description")}),(0,a.jsx)(c.g,{value:D,onChange:e=>T(e.target.value),placeholder:eT("settings.description"),rows:4,className:"rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069] resize-none"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-right",children:eT("settings.character_limit",{current:D.length,max:500})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 text-[#008069]"}),eT("settings.contact_info")]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:eT("settings.whatsapp")}),(0,a.jsx)(o.I,{value:F,onChange:e=>L(e.target.value),placeholder:"+1 (555) 123-4567",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:eT("settings.whatsapp_desc")})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:eT("settings.email")}),(0,a.jsx)(o.I,{type:"email",value:G,onChange:e=>U(e.target.value),placeholder:"support@yourstore.com",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5 mt-6",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:eT("settings.default_language")}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"language",value:"en",checked:"en"===R,onChange:e=>V(e.target.value),className:"w-4 h-4 text-[#008069] focus:ring-[#008069]"}),(0,a.jsx)("span",{children:eT("settings.english")})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"language",value:"ar",checked:"ar"===R,onChange:e=>V(e.target.value),className:"w-4 h-4 text-[#008069] focus:ring-[#008069]"}),(0,a.jsx)("span",{children:eT("settings.arabic")})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:eT("settings.language_help")})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 text-[#008069]"}),eT("settings.delivery_options")]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",checked:en,onChange:e=>{if(!e.target.checked&&!eo){eD({title:eT("settings.delivery_required_error"),variant:"destructive"});return}ei(e.target.checked)},className:"w-5 h-5 text-[#008069] focus:ring-[#008069] rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:eT("settings.allow_delivery")}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:eT("settings.allow_delivery_desc")})]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",checked:eo,onChange:e=>{if(!e.target.checked&&!en){eD({title:eT("settings.delivery_required_error"),variant:"destructive"});return}ec(e.target.checked)},className:"w-5 h-5 text-[#008069] focus:ring-[#008069] rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:eT("settings.allow_pickup")}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:eT("settings.allow_pickup_desc")})]})]})]})]}),(0,a.jsx)(StoreShippingSettings,{shippingConfig:ed,freeShippingThreshold:eg,onConfigChange:em,onThresholdChange:eh}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 text-[#008069]"}),eT("settings.social_media")]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:"Facebook"}),(0,a.jsx)(o.I,{value:X,onChange:e=>$(e.target.value),placeholder:"https://facebook.com/yourstore",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:"Instagram"}),(0,a.jsx)(o.I,{value:J,onChange:e=>K(e.target.value),placeholder:"https://instagram.com/yourstore",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:"Twitter / X"}),(0,a.jsx)(o.I,{value:ee,onChange:e=>et(e.target.value),placeholder:"https://twitter.com/yourstore",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:"TikTok"}),(0,a.jsx)(o.I,{value:es,onChange:e=>ea(e.target.value),placeholder:"https://tiktok.com/@yourstore",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:eT("onboarding.location")}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.I,{value:er,onChange:e=>el(e.target.value),placeholder:"https://maps.google.com/...",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"}),(0,a.jsx)(i.z,{type:"button",variant:"outline",onClick:async()=>{if(k.dV.isNativePlatform()){try{eD({title:eT("onboarding.locating"),description:eT("onboarding.getting_location")});let{Geolocation:e}=await s.e(484).then(s.bind(s,8484)),t=await e.checkPermissions();if("granted"!==t.location){let t=await e.requestPermissions();if("granted"!==t.location)throw Error("Permission denied")}let a=await e.getCurrentPosition(),{latitude:r,longitude:l}=a.coords,n="https://www.google.com/maps?q=".concat(r,",").concat(l);el(n),eD({title:eT("onboarding.location_found"),description:eT("onboarding.location_set")})}catch(e){console.error("Geolocation error:",e),eD({title:eT("common.error"),description:e.message||eT("onboarding.location_error"),variant:"destructive"})}return}if(!navigator.geolocation){eD({title:eT("common.error"),description:eT("onboarding.geolocation_not_supported"),variant:"destructive"});return}eD({title:eT("onboarding.locating"),description:eT("onboarding.getting_location")}),navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:s}=e.coords,a="https://www.google.com/maps?q=".concat(t,",").concat(s);el(a),eD({title:eT("onboarding.location_found"),description:eT("onboarding.location_set")})},e=>{console.error("Geolocation error:",e);let t=eT("onboarding.location_error");e.code===e.PERMISSION_DENIED?t=eT("onboarding.location_permission_denied"):e.code===e.POSITION_UNAVAILABLE?t=eT("onboarding.location_unavailable"):e.code===e.TIMEOUT&&(t=eT("onboarding.location_timeout")),eD({title:eT("common.error"),description:t,variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},className:"h-11 rounded-lg border-gray-200 text-gray-600 hover:text-[#008069] shrink-0",title:eT("onboarding.get_current_location"),children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-[#008069]"}),"rtl"===eF?"الأمان":"Security"]}),(0,a.jsxs)("div",{className:"space-y-4 max-w-md",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:"rtl"===eF?"كلمة المرور الحالية":"Current Password"}),(0,a.jsx)(o.I,{type:"password",value:ex,onChange:e=>eu(e.target.value),placeholder:"••••••",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:"rtl"===eF?"كلمة المرور الجديدة":"New Password"}),(0,a.jsx)(o.I,{type:"password",value:ep,onChange:e=>eb(e.target.value),placeholder:"••••••",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(d._,{className:"text-sm font-bold text-gray-700",children:"rtl"===eF?"تأكيد كلمة المرور الجديدة":"Confirm New Password"}),(0,a.jsx)(o.I,{type:"password",value:ey,onChange:e=>ef(e.target.value),placeholder:"••••••",className:"h-11 rounded-lg bg-gray-50 border-none focus:ring-2 focus:ring-[#008069]"})]}),(0,a.jsx)(i.z,{onClick:handlePasswordChange,disabled:ev,className:"bg-[#008069] hover:bg-green-500 text-white font-bold rounded-lg mt-2 w-full",children:ev?"rtl"===eF?"جاري التغيير...":"Changing...":"rtl"===eF?"تغيير كلمة المرور":"Change Password"})]})]}),e_&&(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-[#008069]"}),"rtl"===eF?"تسجيل الدخول بالبصمة":"Biometric Login"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"rtl"===eF?"استخدم بصمة الإصبع أو الوجه لتسجيل الدخول":"Use fingerprint or face ID to log in"})]}),(0,a.jsx)(P.r,{checked:eN,onCheckedChange:async e=>{ew(e);let{Preferences:t}=await s.e(896).then(s.bind(s,7896));if(await t.set({key:"biometric_enabled",value:String(e)}),e)try{let{NativeBiometric:e}=await s.e(163).then(s.bind(s,8163));await e.verifyIdentity({reason:"Enable biometric login",title:"Authenticate",subtitle:"Verify your identity",description:"Use face ID or fingerprint"})}catch(e){ew(!1),await t.set({key:"biometric_enabled",value:"false"})}}})]})}),(0,a.jsxs)("div",{className:"bg-red-50 rounded-xl shadow-sm border border-red-100 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-4 text-red-700 flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5"}),eT("settings.danger_zone")]}),(0,a.jsx)("p",{className:"text-sm text-red-600 mb-6 font-medium",children:eT("settings.danger_zone_desc")}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(i.z,{variant:"destructive",onClick:()=>ek(!0),className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white font-bold",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),eT("settings.delete_account")]})})]}),eS&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-red-600 mb-2",children:eT("settings.delete_account_title")}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:eT("settings.delete_warning")}),(0,a.jsx)(d._,{className:"mb-2 block font-semibold",children:eT("settings.delete_reason_label")}),(0,a.jsx)(c.g,{value:eP,onChange:e=>ez(e.target.value),placeholder:eT("settings.delete_reason_placeholder"),className:"mb-4 bg-gray-50"}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(i.z,{variant:"outline",onClick:()=>ek(!1),children:eT("common.cancel")}),(0,a.jsx)(i.z,{variant:"destructive",onClick:handleDeleteAccount,disabled:eI||!eP.trim(),className:"bg-red-600 hover:bg-red-700",children:eI?"Deleting...":eT("settings.confirm_delete")})]})]})})]})})]})}},6811:function(e,t,s){"use strict";function standardizePhoneNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"20",s=e.replace(/[^\d+]/g,"");return s.startsWith("+")?s:s.startsWith(t)?"+".concat(s):s.startsWith("0")?"+".concat(t).concat(s.substring(1)):"+".concat(t).concat(s)}s.d(t,{yL:function(){return standardizePhoneNumber}})}},function(e){e.O(0,[383,154,32,875,401,297,443,612,920,293,53,744],function(){return e(e.s=3680)}),_N_E=e.O()}]);